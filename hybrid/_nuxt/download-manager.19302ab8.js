import{d as Se,R as Tt,r as J,o as dt,f as Qt,g as E,h as C,K as ze,k as u,S as wo,U as Pe,c as Jt,V as eo,i as D,z as H,j as v,l as Oe,W as to,m as R,E as Q,N as W,t as x,X as oo,Y as yo,P as $t,v as ct,Z as ut,p as Ot,q as kt,s as At,$ as no,B as nt,a0 as xo,a1 as Eo,a2 as Do,a3 as So,I as Io,a4 as Rt,F as xt,A as Et,n as Co,C as To,a5 as $o,a6 as Oo}from"./entry.cda885f0.js";import{C as Lt,i as zt}from"./chartjs-plugin-gradient.esm.7378d8f6.js";import{_ as ko}from"./BaseCircularProgress.vue.b51b4f0e.js";const Ao={class:"relative"},Po=u("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[u("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[u("canvas",{id:"acquisitions",class:"!w-full"})])],-1),No=[Po],Mo=Se({__name:"DownloadManagerChart",setup(n,{expose:e}){const{disableAnimations:t}=Tt(),o=J(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const i=f=>{const d=l[f.dataIndex];return`${ze.core.bytesToSize(d)}/s`};dt(()=>{Lt.register(zt);const f={backgroundColor:`rgb(${o.value})`,borderColor:`rgb(${o.value})`,maintainAspectRatio:!1,animation:{duration:t.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:i}}},responsive:!0};a=new Lt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${o.value} / 0)`,100:`rgb(${o.value} / 0.3)`}}},pointBackgroundColor:`rgb(${o.value})`,fill:!0,label:"",data:[],tension:.4}]},options:f,plugins:[zt]})}),Qt(()=>a==null?void 0:a.destroy());const r=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),l=[];function c(){var d;a&&a.data.datasets[0].data.length>=32&&((d=a.data.labels)==null||d.shift(),a.data.datasets[0].data.shift(),a.update()),l.length>=32&&l.shift()}function s(f){c(),a==null||a.data.labels.push(r()),l.push(f);const d=Math.max(...l),m=Math.min(...l);a.data.datasets[0].data.push(Math.floor(ze.core.ILerp(m,d,f,100)));for(let h=0;h<(a==null?void 0:a.data.datasets[0].data.length);h++){const p=Math.floor(ze.core.ILerp(m,d,l[h],100));a.data.datasets[0].data[h]=p}a==null||a.update()}return e({addRecord:s}),(f,d)=>(E(),C("div",Ao,No))}}),Me=n=>(Ot("data-v-53b86ea2"),n=n(),kt(),n),Fo={"aria-label":"downloader",class:"relative flex items-center gap-8"},Bo={class:"relative h-poster-medium w-poster-medium shrink-0 overflow-hidden rounded-xl bg-bg-10"},Ro={class:"relative flex w-full justify-between"},Lo={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},zo=Me(()=>u("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-10 from-20% to-bg-10/0"},null,-1)),Xo=["src"],Ho={class:"relative flex w-full flex-col"},Yo={class:"absolute left-3 top-3 flex flex-col gap-2"},jo={class:"flex items-center gap-2 text-xl font-bold tracking-wider text-fonts-300"},Wo={key:0,class:"line-clamp-1 text-sm font-bold tracking-wider text-fonts-300"},Go={key:0,class:"font-bold tracking-wider text-fonts-300"},Uo={class:"mb-2 mt-16 h-full w-full"},Vo={class:"mb-1 p-4"},qo={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/20"},Zo={key:0,class:"progress-holder absolute h-full w-full bg-bg-1/30"},Ko={class:"relative flex flex-col justify-between p-2 transition-opacity"},Qo={class:"flex flex-row items-center gap-2"},Jo={class:"relative flex flex-col items-center"},en={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},tn={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},on=Me(()=>u("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),nn={class:"flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},an={class:"flex flex-col items-center"},rn={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},ln=Me(()=>u("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),sn={class:"flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},dn={class:"relative flex items-center justify-center"},cn={class:"local-numbers text-6xl font-bold"},un=Me(()=>u("span",{class:"absolute h-16 w-16 translate-y-2 rounded-full bg-bg-1/20 blur-xl"},null,-1)),fn={class:"flex flex-col items-center"},pn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},hn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},gn=Me(()=>u("svg",{class:"absolute right-[20vw] top-full z-10 w-[3rem] fill-bg-10",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),mn=Me(()=>u("svg",{class:"absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem] fill-bg-10",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),vn={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},bn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},_n={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},wn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},yn=Se({__name:"DownloadManagerDownloader",setup(n){const e=wo(),{bytesToSize:t}=ze.core,{scheduledDownloadables:o,unscheduledDownloadables:a,activeDownloadable:i,changeUpdater:r,downloadAction:l}=Pe(),{downloadSpeedLimit:c}=Tt(),s=Jt(()=>e.progress),f=J();eo(s,h=>{var p;(h==null?void 0:h.status)==="active"&&((p=f.value)==null||p.addRecord(h.downloadSpeed))});async function d(){var p;const h=((p=e.progress)==null?void 0:p.status)==="active"?"pause":"unpause";await l(h),h==="pause"?(await r("stop"),s.value.downloadSpeed=0):r("start")}async function m(){await r("stop"),l("remove"),e.progress=void 0,i!=null&&i.value&&(i.value.downloading=!1),e.activeGID=void 0;const h=o.value[0],p=o.value.indexOf(h);o.value.splice(p,1),a.value.unshift(h)}return(h,p)=>{var N,L,ae,G,ie,pe,z,he,ee,ge,Z,re,me,te,ye,ve;const b=$t,$=Mo,A=ct,T=ut;return E(),C("section",Fo,[D(b,{to:`/single/${(N=v(i))==null?void 0:N.postId}`,class:Q([{"pointer-events-none opacity-20 grayscale":!v(i)}])},{default:H(()=>{var oe,Ie,Fe;return[u("div",Bo,[(oe=v(i))!=null&&oe.image.poster.webp?(E(),Oe(v(to),{key:0,src:(Ie=v(i))==null?void 0:Ie.image.poster.webp,punch:1,hash:(Fe=v(i))==null?void 0:Fe.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":258,"width-size":172},null,8,["src","hash"])):R("",!0)])]}),_:1},8,["to","class"]),u("div",Ro,[u("section",{"aria-label":"download info",class:Q(["ltr-dir relative flex h-poster-medium w-full justify-between rounded-2xl bg-bg-10 shadow-lg",[{"pointer-events-none opacity-20 grayscale":!v(i)}]])},[u("div",Lo,[zo,(L=v(i))!=null&&L.image.cover?(E(),C("img",{key:0,src:(ae=v(i))==null?void 0:ae.image.cover,class:"h-full w-full object-cover",alt:""},null,8,Xo)):R("",!0)]),u("div",Ho,[u("div",Yo,[u("h5",jo,[W(x((G=v(i))==null?void 0:G.title)+" ",1),(ie=v(i))!=null&&ie.episode?(E(),C("p",Wo,x(`S${v(i).season}E${v(i).episode}`),1)):R("",!0)]),(pe=v(i))!=null&&pe.size?(E(),C("h5",Go,x((z=v(i))==null?void 0:z.size),1)):R("",!0)]),u("div",Uo,[D($,{ref_key:"chart",ref:f,class:"h-full w-full"},null,512)]),u("div",Vo,[u("span",qo,[D(yo,{name:"fade-preset",mode:"out-in"},{default:H(()=>{var oe,Ie;return[((oe=v(s))==null?void 0:oe.status)==="preparing"?(E(),C("span",Zo)):(E(),C("span",{key:1,class:"absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500/80",style:oo(`transform: scaleX(${(((Ie=v(s))==null?void 0:Ie.percent)||0)/100})`)},null,4))]}),_:1})])])]),u("div",Ko,[u("div",{class:Q({" opacity-50":((he=v(s))==null?void 0:he.status)==="preparing"})},[u("ul",Qo,[u("li",Jo,[u("span",en,[D(A,{name:"ph:gauge-fill",class:"text-2xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("downloadSpeed")),1)]),_:1})]),v(c)?(E(),C("span",tn,[D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("speedLimiterIsActive")),1)]),_:1})])):R("",!0),on,u("p",nn,x(v(t)(((ee=v(s))==null?void 0:ee.downloadSpeed)||0))+"/s ",1)]),u("li",an,[u("span",rn,[D(A,{name:"ph:download-fill",class:"text-2xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("size")),1)]),_:1})]),ln,u("p",sn,x(v(t)(((ge=v(s))==null?void 0:ge.completedLength)||0)),1)])])],2),u("div",{class:Q(["flex flex-col items-center",{" opacity-50":((Z=v(s))==null?void 0:Z.status)==="preparing"}])},[u("div",dn,[u("h4",cn,x(((re=v(s))==null?void 0:re.percent)||0)+"%",1),un])],2),u("div",fn,[u("ul",{class:Q(["flex gap-3",[{disabled:!v(i)},{invisible:!v(i)}]])},[u("li",{class:Q([{"pointer-events-none":!v(s)||v(s).status==="preparing"},{" opacity-50":((me=v(s))==null?void 0:me.status)==="preparing"}]),onClick:p[0]||(p[0]=oe=>d())},[u("div",pn,[((te=v(s))==null?void 0:te.status)==="active"?(E(),Oe(A,{key:0,name:"ph:pause-fill",class:"text-md text-fonts-100"})):((ye=v(s))==null?void 0:ye.status)==="paused"?(E(),Oe(A,{key:1,name:"ph:play-fill",class:"text-md text-fonts-100"})):(E(),Oe(A,{key:2,name:"ph:pause-fill",class:"text-md text-fonts-100"})),D(T,{placement:"top"},{default:H(()=>{var oe;return[W(x(((oe=v(s))==null?void 0:oe.status)==="active"?h.$t("pauseDownload"):h.$t("resumeDownload")),1)]}),_:1})])],2),u("li",{onClick:m},[u("div",hn,[D(A,{name:"ph:x-bold",class:"text-md text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("cancel")),1)]),_:1})])])],2)])]),gn,mn],2),v(i)?R("",!0):(E(),C("span",vn,[u("h4",bn,x(h.$t("youHaveNoActiveDownload")),1)])),((ve=v(s))==null?void 0:ve.status)==="preparing"?(E(),C("span",_n,[u("h4",wn,x(h.$t("preparingDownload")),1)])):R("",!0)])])}}});const xn=At(yn,[["__scopeId","data-v-53b86ea2"]]),Pt=n=>(Ot("data-v-5627650f"),n=n(),kt(),n),En={key:0,class:"flex items-center gap-8 w-full h-full"},Dn={class:"h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg bg-bg-8"},Sn=["src"],In={class:"relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl bg-bg-11"},Cn={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},Tn=Pt(()=>u("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-11 from-20% to-bg-11/0"},null,-1)),$n=["src"],On={class:"drag-target h-full w-full p-4"},kn={class:"relative flex flex-col"},An={key:0,class:"ltr-dir line-clamp-1 text-base font-bold text-fonts-300"},Pn={class:"ltr-dir line-clamp-1 text-left text-base font-bold text-fonts-300"},Nn={class:"ltr-dir text-base font-semibold"},Mn={key:0},Fn=Pt(()=>u("span",{class:"text-fonts-300"}," / ",-1)),Bn={class:"text-fonts-300"},Rn=Pt(()=>u("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[u("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),u("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),u("span",{class:"h-1 w-6 rounded-full bg-bg-9"})],-1)),Ln={class:"flex p-4"},zn={class:"absolute bottom-full right-0 flex items-center gap-2"},Xn={class:"local-numbers"},Hn={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/10"},Yn={class:"flex items-center gap-2"},jn=Se({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(n,{expose:e}){const{scheduledDownloadables:t,unscheduledDownloadables:o}=Pe(),{optimizedDownloadlist:a}=Tt(),i=n,r=no();function l(){t&&(t.value=t.value.filter(p=>p.id!==i.data.id)),o&&(o.value=o.value.filter(p=>p.id!==i.data.id))}async function c(){if(!t||!o)return;const p=o.value.find($=>$.id===i.data.id),b=t.value.find($=>$.id===i.data.id);p?(t.value=[p,...t.value],await nt(),o.value=o.value.filter($=>$.id!==i.data.id),p.id=new Date().getTime()):b&&(t.value=t.value.filter($=>$.id!==i.data.id),t.value=[b,...t.value],b.id=new Date().getTime())}const s=J(!1),f=J();let d;dt(()=>{a.value&&(d=new IntersectionObserver(p=>{const b=p[0];s.value=b.isIntersecting},{threshold:0}),f.value&&d.observe(f.value))});function m(){a.value&&setTimeout(()=>{f.value&&d.observe(f.value)},300)}function h(){a.value&&(f.value&&d.unobserve(f.value),s.value=!0)}return e({observeItem:m,removeObserveItem:h}),(p,b)=>{const $=$t,A=ct,T=ut;return E(),C("section",{ref_key:"downloadItem",ref:f,"aria-label":"download item",class:"flex flex-col w-full items-center gap-8 h-[9rem]"},[!v(a)||v(s)?(E(),C("div",En,[D($,{to:`/single/${p.data.postId}`},{default:H(()=>[u("div",Dn,[p.data.image.poster.webp?(E(),C("img",{key:0,src:p.data.image.poster.webp,class:"h-[8.44rem] w-[5.625rem]",alt:"",loading:"lazy"},null,8,Sn)):R("",!0)])]),_:1},8,["to"]),u("div",In,[u("div",Cn,[Tn,p.data.image.cover?(E(),C("img",{key:0,src:p.data.image.cover,class:"h-full w-full object-cover",loading:"lazy",alt:""},null,8,$n)):R("",!0)]),u("span",On,[u("div",kn,[u("h6",{class:Q(["ltr-dir line-clamp-1 break-all",p.data.title.length>25?"text-lg":"text-xl"])},x(p.data.title),3),p.data.season!==void 0&&p.data.episode!==void 0?(E(),C("p",An,"S"+x(p.data.season)+"E"+x(p.data.episode),1)):R("",!0),u("p",Pn,x(p.data.quality),1),u("p",Nn,[p.data.progress?(E(),C("span",Mn,[W(x(p.data.progress.downloaded)+" ",1),Fn])):R("",!0),u("span",Bn,x(p.data.size),1)])]),Rn]),u("div",Ln,[u("ul",{class:Q(["flex items-center gap-2",{"drag-target":!p.data.error}])},[u("li",{class:Q(["flex cursor-pointer items-center justify-center rounded-full p-2 transition-all hover:bg-bg-9",{invisible:!p.data.error}]),onClick:b[0]||(b[0]=N=>v(r).toggleMessage(!0,p.data.error,"code"))},[D(A,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),p.data.progress?(E(),C("li",{key:0,class:"progress relative mx-4 w-48",onClick:b[1]||(b[1]=N=>v(r).toggleMessage(!0))},[u("div",zn,[u("span",Xn,x(p.data.progress.percent)+"%",1)]),u("span",Hn,[u("span",{class:"full absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500",style:oo(`transform: scaleX(${p.data.progress.percent/100})`)},null,4)])])):R("",!0)],2),u("ul",Yn,[u("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:l},[D(A,{name:"ph:trash-fill",class:"text-xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("deleteFromList")),1)]),_:1})]),u("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:c},[D(A,{name:"ph:download-simple-fill",class:"text-xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("downloadNow")),1)]),_:1})])])])])])):R("",!0)],512)}}});const Xt=At(jn,[["__scopeId","data-v-5627650f"]]);/**!
 * Sortable 1.15.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ht(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,o)}return t}function de(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(t),!0).forEach(function(o){Wn(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ht(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function Qe(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(e){return typeof e}:Qe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(n)}function Wn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ue(){return ue=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ue.apply(this,arguments)}function Gn(n,e){if(n==null)return{};var t={},o=Object.keys(n),a,i;for(i=0;i<o.length;i++)a=o[i],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function Un(n,e){if(n==null)return{};var t=Gn(n,e),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(t[o]=n[o])}return t}var Vn="1.15.1";function ce(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var fe=ce(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ge=ce(/Edge/i),Yt=ce(/firefox/i),Xe=ce(/safari/i)&&!ce(/chrome/i)&&!ce(/android/i),ao=ce(/iP(ad|od|hone)/i),io=ce(/chrome/i)&&ce(/android/i),ro={capture:!1,passive:!1};function I(n,e,t){n.addEventListener(e,t,!fe&&ro)}function S(n,e,t){n.removeEventListener(e,t,!fe&&ro)}function at(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function qn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function le(n,e,t,o){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&at(n,e):at(n,e))||o&&n===t)return n;if(n===t)break}while(n=qn(n))}return null}var jt=/\s+/g;function U(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var o=(" "+n.className+" ").replace(jt," ").replace(" "+e+" "," ");n.className=(o+(t?" "+e:"")).replace(jt," ")}}function _(n,e,t){var o=n&&n.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Ae(n,e){var t="";if(typeof n=="string")t=n;else do{var o=_(n,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function lo(n,e,t){if(n){var o=n.getElementsByTagName(e),a=0,i=o.length;if(t)for(;a<i;a++)t(o[a],a);return o}return[]}function se(){var n=document.scrollingElement;return n||document.documentElement}function F(n,e,t,o,a){if(!(!n.getBoundingClientRect&&n!==window)){var i,r,l,c,s,f,d;if(n!==window&&n.parentNode&&n!==se()?(i=n.getBoundingClientRect(),r=i.top,l=i.left,c=i.bottom,s=i.right,f=i.height,d=i.width):(r=0,l=0,c=window.innerHeight,s=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(a=a||n.parentNode,!fe))do if(a&&a.getBoundingClientRect&&(_(a,"transform")!=="none"||t&&_(a,"position")!=="static")){var m=a.getBoundingClientRect();r-=m.top+parseInt(_(a,"border-top-width")),l-=m.left+parseInt(_(a,"border-left-width")),c=r+i.height,s=l+i.width;break}while(a=a.parentNode);if(o&&n!==window){var h=Ae(a||n),p=h&&h.a,b=h&&h.d;h&&(r/=b,l/=p,d/=p,f/=b,c=r+f,s=l+d)}return{top:r,left:l,bottom:c,right:s,width:d,height:f}}}function so(n){var e=F(n),t=parseInt(_(n,"padding-left")),o=parseInt(_(n,"padding-top")),a=parseInt(_(n,"padding-right")),i=parseInt(_(n,"padding-bottom"));return e.top+=o+parseInt(_(n,"border-top-width")),e.left+=t+parseInt(_(n,"border-left-width")),e.width=n.clientWidth-t-a,e.height=n.clientHeight-o-i,e.bottom=e.top+e.height,e.right=e.left+e.width,e}function Wt(n,e,t){for(var o=we(n,!0),a=F(n)[e];o;){var i=F(o)[t],r=void 0;if(t==="top"||t==="left"?r=a>=i:r=a<=i,!r)return o;if(o===se())break;o=we(o,!1)}return!1}function Ne(n,e,t,o){for(var a=0,i=0,r=n.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==w.ghost&&(o||r[i]!==w.dragged)&&le(r[i],t.draggable,n,!1)){if(a===e)return r[i];a++}i++}return null}function Nt(n,e){for(var t=n.lastElementChild;t&&(t===w.ghost||_(t,"display")==="none"||e&&!at(t,e));)t=t.previousElementSibling;return t||null}function K(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==w.clone&&(!e||at(n,e))&&t++;return t}function Gt(n){var e=0,t=0,o=se();if(n)do{var a=Ae(n),i=a.a,r=a.d;e+=n.scrollLeft*i,t+=n.scrollTop*r}while(n!==o&&(n=n.parentNode));return[e,t]}function Zn(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===n[t][o])return Number(t)}return-1}function we(n,e){if(!n||!n.getBoundingClientRect)return se();var t=n,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=_(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return se();if(o||e)return t;o=!0}}while(t=t.parentNode);return se()}function Kn(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function pt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var He;function co(n,e){return function(){if(!He){var t=arguments,o=this;t.length===1?n.call(o,t[0]):n.apply(o,t),He=setTimeout(function(){He=void 0},e)}}}function Qn(){clearTimeout(He),He=void 0}function uo(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function fo(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var q="Sortable"+new Date().getTime();function Jn(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(_(a,"display")==="none"||a===w.ghost)){n.push({target:a,rect:F(a)});var i=de({},n[n.length-1].rect);if(a.thisAnimationDuration){var r=Ae(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(Zn(n,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var i=!1,r=0;n.forEach(function(l){var c=0,s=l.target,f=s.fromRect,d=F(s),m=s.prevFromRect,h=s.prevToRect,p=l.rect,b=Ae(s,!0);b&&(d.top-=b.f,d.left-=b.e),s.toRect=d,s.thisAnimationDuration&&pt(m,d)&&!pt(f,d)&&(p.top-d.top)/(p.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(c=ta(p,m,h,a.options)),pt(d,f)||(s.prevFromRect=f,s.prevToRect=d,c||(c=a.options.animation),a.animate(s,p,d,c)),c&&(i=!0,r=Math.max(r,c),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},c),s.thisAnimationDuration=c)}),clearTimeout(e),i?e=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),n=[]},animate:function(o,a,i,r){if(r){_(o,"transition",""),_(o,"transform","");var l=Ae(this.el),c=l&&l.a,s=l&&l.d,f=(a.left-i.left)/(c||1),d=(a.top-i.top)/(s||1);o.animatingX=!!f,o.animatingY=!!d,_(o,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=ea(o),_(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),_(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){_(o,"transition",""),_(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function ea(n){return n.offsetWidth}function ta(n,e,t,o){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var Ce=[],ht={initializeByDefault:!0},Ue={mount:function(e){for(var t in ht)ht.hasOwnProperty(t)&&!(t in e)&&(e[t]=ht[t]);Ce.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ce.push(e)},pluginEvent:function(e,t,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var i=e+"Global";Ce.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](de({sortable:t},o)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](de({sortable:t},o)))})},initializePlugins:function(e,t,o,a){Ce.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var s=new l(e,t,e.options);s.sortable=e,s.options=e.options,e[c]=s,ue(o,s.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r<"u"&&(e.options[i]=r)}},getEventProperties:function(e,t){var o={};return Ce.forEach(function(a){typeof a.eventProperties=="function"&&ue(o,a.eventProperties.call(t[a.pluginName],e))}),o},modifyOption:function(e,t,o){var a;return Ce.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]=="function"&&(a=i.optionListeners[t].call(e[i.pluginName],o))}),a}};function oa(n){var e=n.sortable,t=n.rootEl,o=n.name,a=n.targetEl,i=n.cloneEl,r=n.toEl,l=n.fromEl,c=n.oldIndex,s=n.newIndex,f=n.oldDraggableIndex,d=n.newDraggableIndex,m=n.originalEvent,h=n.putSortable,p=n.extraEventProperties;if(e=e||t&&t[q],!!e){var b,$=e.options,A="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!fe&&!Ge?b=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(o,!0,!0)),b.to=r||t,b.from=l||t,b.item=a||t,b.clone=i,b.oldIndex=c,b.newIndex=s,b.oldDraggableIndex=f,b.newDraggableIndex=d,b.originalEvent=m,b.pullMode=h?h.lastPutMode:void 0;var T=de(de({},p),Ue.getEventProperties(o,e));for(var N in T)b[N]=T[N];t&&t.dispatchEvent(b),$[A]&&$[A].call(e,b)}}var na=["evt"],j=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,i=Un(o,na);Ue.pluginEvent.bind(w)(e,t,de({dragEl:g,parentEl:P,ghostEl:y,rootEl:O,nextEl:De,lastDownEl:Je,cloneEl:k,cloneHidden:_e,dragStarted:Be,putSortable:B,activeSortable:w.active,originalEvent:a,oldIndex:ke,oldDraggableIndex:Ye,newIndex:V,newDraggableIndex:be,hideGhostForTarget:mo,unhideGhostForTarget:vo,cloneNowHidden:function(){_e=!0},cloneNowShown:function(){_e=!1},dispatchSortableEvent:function(l){Y({sortable:t,name:l,originalEvent:a})}},i))};function Y(n){oa(de({putSortable:B,cloneEl:k,targetEl:g,rootEl:O,oldIndex:ke,oldDraggableIndex:Ye,newIndex:V,newDraggableIndex:be},n))}var g,P,y,O,De,Je,k,_e,ke,V,Ye,be,Ve,B,$e=!1,it=!1,rt=[],xe,ne,gt,mt,Ut,Vt,Be,Te,je,We=!1,qe=!1,et,X,vt=[],Dt=!1,lt=[],ft=typeof document<"u",Ze=ao,qt=Ge||fe?"cssFloat":"float",aa=ft&&!io&&!ao&&"draggable"in document.createElement("div"),po=function(){if(ft){if(fe)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),ho=function(e,t){var o=_(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Ne(e,0,t),r=Ne(e,1,t),l=i&&_(i),c=r&&_(r),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+F(i).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+F(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===d)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||s>=a&&o[qt]==="none"||r&&o[qt]==="none"&&s+f>a)?"vertical":"horizontal"},ia=function(e,t,o){var a=o?e.left:e.top,i=o?e.right:e.bottom,r=o?e.width:e.height,l=o?t.left:t.top,c=o?t.right:t.bottom,s=o?t.width:t.height;return a===l||i===c||a+r/2===l+s/2},ra=function(e,t){var o;return rt.some(function(a){var i=a[q].options.emptyInsertThreshold;if(!(!i||Nt(a))){var r=F(a),l=e>=r.left-i&&e<=r.right+i,c=t>=r.top-i&&t<=r.bottom+i;if(l&&c)return o=a}}),o},go=function(e){function t(i,r){return function(l,c,s,f){var d=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(i==null&&(r||d))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return t(i(l,c,s,f),r)(l,c,s,f);var m=(r?l:c).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var o={},a=e.group;(!a||Qe(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=t(a.pull,!0),o.checkPut=t(a.put),o.revertClone=a.revertClone,e.group=o},mo=function(){!po&&y&&_(y,"display","none")},vo=function(){!po&&y&&_(y,"display","")};ft&&!io&&document.addEventListener("click",function(n){if(it)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),it=!1,!1},!0);var Ee=function(e){if(g){e=e.touches?e.touches[0]:e;var t=ra(e.clientX,e.clientY);if(t){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[q]._onDragOver(o)}}},la=function(e){g&&g.parentNode[q]._isOutsideThisEl(e.target)};function w(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ue({},e),n[q]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ho(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};Ue.initializePlugins(this,n,t);for(var o in t)!(o in e)&&(e[o]=t[o]);go(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:aa,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?I(n,"pointerdown",this._onTapStart):(I(n,"mousedown",this._onTapStart),I(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(n,"dragover",this),I(n,"dragenter",this)),rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ue(this,Jn())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Te=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,g):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,a=this.options,i=a.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=a.filter;if(ga(o),!g&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Xe&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=le(c,a.draggable,o,!1),!(c&&c.animated)&&Je!==c)){if(ke=K(c),Ye=K(c,a.draggable),typeof f=="function"){if(f.call(this,e,c,this)){Y({sortable:t,rootEl:s,name:"filter",targetEl:c,toEl:o,fromEl:o}),j("filter",t,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=le(s,d.trim(),o,!1),d)return Y({sortable:t,rootEl:d,name:"filter",targetEl:c,fromEl:o,toEl:o}),j("filter",t,{evt:e}),!0}),f)){i&&e.cancelable&&e.preventDefault();return}a.handle&&!le(s,a.handle,o,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,o){var a=this,i=a.el,r=a.options,l=i.ownerDocument,c;if(o&&!g&&o.parentNode===i){var s=F(o);if(O=i,g=o,P=g.parentNode,De=g.nextSibling,Je=o,Ve=r.group,w.dragged=g,xe={target:g,clientX:(t||e).clientX,clientY:(t||e).clientY},Ut=xe.clientX-s.left,Vt=xe.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,g.style["will-change"]="all",c=function(){if(j("delayEnded",a,{evt:e}),w.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Yt&&a.nativeDraggable&&(g.draggable=!0),a._triggerDragStart(e,t),Y({sortable:a,name:"choose",originalEvent:e}),U(g,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){lo(g,f.trim(),bt)}),I(l,"dragover",Ee),I(l,"mousemove",Ee),I(l,"touchmove",Ee),I(l,"mouseup",a._onDrop),I(l,"touchend",a._onDrop),I(l,"touchcancel",a._onDrop),Yt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),j("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ge||fe))){if(w.eventCanceled){this._onDrop();return}I(l,"mouseup",a._disableDelayedDrag),I(l,"touchend",a._disableDelayedDrag),I(l,"touchcancel",a._disableDelayedDrag),I(l,"mousemove",a._delayedDragTouchMoveHandler),I(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&I(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&bt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):t?I(document,"touchmove",this._onTouchMove):I(document,"mousemove",this._onTouchMove):(I(g,"dragend",this),I(O,"dragstart",this._onDragStart));try{document.selection?tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if($e=!1,O&&g){j("dragStarted",this,{evt:t}),this.nativeDraggable&&I(document,"dragover",la);var o=this.options;!e&&U(g,o.dragClass,!1),U(g,o.ghostClass,!0),w.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ne){this._lastX=ne.clientX,this._lastY=ne.clientY,mo();for(var e=document.elementFromPoint(ne.clientX,ne.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ne.clientX,ne.clientY),e!==t);)t=e;if(g.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]){var o=void 0;if(o=t[q]._onDragOver({clientX:ne.clientX,clientY:ne.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);vo()}},_onTouchMove:function(e){if(xe){var t=this.options,o=t.fallbackTolerance,a=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=y&&Ae(y,!0),l=y&&r&&r.a,c=y&&r&&r.d,s=Ze&&X&&Gt(X),f=(i.clientX-xe.clientX+a.x)/(l||1)+(s?s[0]-vt[0]:0)/(l||1),d=(i.clientY-xe.clientY+a.y)/(c||1)+(s?s[1]-vt[1]:0)/(c||1);if(!w.active&&!$e){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(y){r?(r.e+=f-(gt||0),r.f+=d-(mt||0)):r={a:1,b:0,c:0,d:1,e:f,f:d};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");_(y,"webkitTransform",m),_(y,"mozTransform",m),_(y,"msTransform",m),_(y,"transform",m),gt=f,mt=d,ne=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:O,t=F(g,!0,Ze,!0,e),o=this.options;if(Ze){for(X=e;_(X,"position")==="static"&&_(X,"transform")==="none"&&X!==document;)X=X.parentNode;X!==document.body&&X!==document.documentElement?(X===document&&(X=se()),t.top+=X.scrollTop,t.left+=X.scrollLeft):X=se(),vt=Gt(X)}y=g.cloneNode(!0),U(y,o.ghostClass,!1),U(y,o.fallbackClass,!0),U(y,o.dragClass,!0),_(y,"transition",""),_(y,"transform",""),_(y,"box-sizing","border-box"),_(y,"margin",0),_(y,"top",t.top),_(y,"left",t.left),_(y,"width",t.width),_(y,"height",t.height),_(y,"opacity","0.8"),_(y,"position",Ze?"absolute":"fixed"),_(y,"zIndex","100000"),_(y,"pointerEvents","none"),w.ghost=y,e.appendChild(y),_(y,"transform-origin",Ut/parseInt(y.style.width)*100+"% "+Vt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,a=e.dataTransfer,i=o.options;if(j("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}j("setupClone",this),w.eventCanceled||(k=fo(g),k.removeAttribute("id"),k.draggable=!1,k.style["will-change"]="",this._hideClone(),U(k,this.options.chosenClass,!1),w.clone=k),o.cloneId=tt(function(){j("clone",o),!w.eventCanceled&&(o.options.removeCloneOnHide||O.insertBefore(k,g),o._hideClone(),Y({sortable:o,name:"clone"}))}),!t&&U(g,i.dragClass,!0),t?(it=!0,o._loopId=setInterval(o._emulateDragOver,50)):(S(document,"mouseup",o._onDrop),S(document,"touchend",o._onDrop),S(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(o,a,g)),I(document,"drop",o),_(g,"transform","translateZ(0)")),$e=!0,o._dragStartId=tt(o._dragStarted.bind(o,t,e)),I(document,"selectstart",o),Be=!0,Xe&&_(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,a,i,r,l=this.options,c=l.group,s=w.active,f=Ve===c,d=l.sort,m=B||s,h,p=this,b=!1;if(Dt)return;function $(ve,oe){j(ve,p,de({evt:e,isOwner:f,axis:h?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:d,fromSortable:m,target:o,completed:T,onMove:function(Fe,_o){return Ke(O,t,g,a,Fe,F(Fe),e,_o)},changed:N},oe))}function A(){$("dragOverAnimationCapture"),p.captureAnimationState(),p!==m&&m.captureAnimationState()}function T(ve){return $("dragOverCompleted",{insertion:ve}),ve&&(f?s._hideClone():s._showClone(p),p!==m&&(U(g,B?B.options.ghostClass:s.options.ghostClass,!1),U(g,l.ghostClass,!0)),B!==p&&p!==w.active?B=p:p===w.active&&B&&(B=null),m===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){$("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(o===g&&!g.animated||o===t&&!o.animated)&&(Te=null),!l.dragoverBubble&&!e.rootEl&&o!==document&&(g.parentNode[q]._isOutsideThisEl(e.target),!ve&&Ee(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function N(){V=K(g),be=K(g,l.draggable),Y({sortable:p,name:"change",toEl:t,newIndex:V,newDraggableIndex:be,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=le(o,l.draggable,t,!0),$("dragOver"),w.eventCanceled)return b;if(g.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return T(!1);if(it=!1,s&&!l.disabled&&(f?d||(r=P!==O):B===this||(this.lastPutMode=Ve.checkPull(this,s,g,e))&&c.checkPut(this,s,g,e))){if(h=this._getDirection(e,o)==="vertical",a=F(g),$("dragOverValid"),w.eventCanceled)return b;if(r)return P=O,A(),this._hideClone(),$("revert"),w.eventCanceled||(De?O.insertBefore(g,De):O.appendChild(g)),T(!0);var L=Nt(t,l.draggable);if(!L||ua(e,h,this)&&!L.animated){if(L===g)return T(!1);if(L&&t===e.target&&(o=L),o&&(i=F(o)),Ke(O,t,g,a,o,i,e,!!o)!==!1)return A(),L&&L.nextSibling?t.insertBefore(g,L.nextSibling):t.appendChild(g),P=t,N(),T(!0)}else if(L&&ca(e,h,this)){var ae=Ne(t,0,l,!0);if(ae===g)return T(!1);if(o=ae,i=F(o),Ke(O,t,g,a,o,i,e,!1)!==!1)return A(),t.insertBefore(g,ae),P=t,N(),T(!0)}else if(o.parentNode===t){i=F(o);var G=0,ie,pe=g.parentNode!==t,z=!ia(g.animated&&g.toRect||a,o.animated&&o.toRect||i,h),he=h?"top":"left",ee=Wt(o,"top","top")||Wt(g,"top","top"),ge=ee?ee.scrollTop:void 0;Te!==o&&(ie=i[he],We=!1,qe=!z&&l.invertSwap||pe),G=fa(e,o,i,h,z?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,qe,Te===o);var Z;if(G!==0){var re=K(g);do re-=G,Z=P.children[re];while(Z&&(_(Z,"display")==="none"||Z===y))}if(G===0||Z===o)return T(!1);Te=o,je=G;var me=o.nextElementSibling,te=!1;te=G===1;var ye=Ke(O,t,g,a,o,i,e,te);if(ye!==!1)return(ye===1||ye===-1)&&(te=ye===1),Dt=!0,setTimeout(da,30),A(),te&&!me?t.appendChild(g):o.parentNode.insertBefore(g,te?me:o),ee&&uo(ee,0,ge-ee.scrollTop),P=g.parentNode,ie!==void 0&&!qe&&(et=Math.abs(ie-F(o)[he])),N(),T(!0)}if(t.contains(g))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Ee),S(document,"mousemove",Ee),S(document,"touchmove",Ee)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(V=K(g),be=K(g,o.draggable),j("drop",this,{evt:e}),P=g&&g.parentNode,V=K(g),be=K(g,o.draggable),w.eventCanceled){this._nulling();return}$e=!1,qe=!1,We=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&_(document.body,"user-select",""),_(g,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(O===P||B&&B.lastPutMode!=="clone")&&k&&k.parentNode&&k.parentNode.removeChild(k),g&&(this.nativeDraggable&&S(g,"dragend",this),bt(g),g.style["will-change"]="",Be&&!$e&&U(g,B?B.options.ghostClass:this.options.ghostClass,!1),U(g,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:e}),O!==P?(V>=0&&(Y({rootEl:P,name:"add",toEl:P,fromEl:O,originalEvent:e}),Y({sortable:this,name:"remove",toEl:P,originalEvent:e}),Y({rootEl:P,name:"sort",toEl:P,fromEl:O,originalEvent:e}),Y({sortable:this,name:"sort",toEl:P,originalEvent:e})),B&&B.save()):V!==ke&&V>=0&&(Y({sortable:this,name:"update",toEl:P,originalEvent:e}),Y({sortable:this,name:"sort",toEl:P,originalEvent:e})),w.active&&((V==null||V===-1)&&(V=ke,be=Ye),Y({sortable:this,name:"end",toEl:P,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){j("nulling",this),O=g=P=y=De=k=Je=_e=xe=ne=Be=V=be=ke=Ye=Te=je=B=Ve=w.dragged=w.ghost=w.clone=w.active=null,lt.forEach(function(e){e.checked=!0}),lt.length=gt=mt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),sa(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,a=0,i=o.length,r=this.options;a<i;a++)t=o[a],le(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||ha(t));return e},sort:function(e,t){var o={},a=this.el;this.toArray().forEach(function(i,r){var l=a.children[r];le(l,this.options.draggable,a,!1)&&(o[i]=l)},this),t&&this.captureAnimationState(),e.forEach(function(i){o[i]&&(a.removeChild(o[i]),a.appendChild(o[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return le(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var a=Ue.modifyOption(this,e,t);typeof a<"u"?o[e]=a:o[e]=t,e==="group"&&go(o)},destroy:function(){j("destroy",this);var e=this.el;e[q]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rt.splice(rt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!_e){if(j("hideClone",this),w.eventCanceled)return;_(k,"display","none"),this.options.removeCloneOnHide&&k.parentNode&&k.parentNode.removeChild(k),_e=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(_e){if(j("showClone",this),w.eventCanceled)return;g.parentNode==O&&!this.options.group.revertClone?O.insertBefore(k,g):De?O.insertBefore(k,De):O.appendChild(k),this.options.group.revertClone&&this.animate(g,k),_(k,"display",""),_e=!1}}};function sa(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ke(n,e,t,o,a,i,r,l){var c,s=n[q],f=s.options.onMove,d;return window.CustomEvent&&!fe&&!Ge?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=t,c.draggedRect=o,c.related=a||e,c.relatedRect=i||F(e),c.willInsertAfter=l,c.originalEvent=r,n.dispatchEvent(c),f&&(d=f.call(s,c,r)),d}function bt(n){n.draggable=!1}function da(){Dt=!1}function ca(n,e,t){var o=F(Ne(t.el,0,t.options,!0)),a=so(t.el),i=10;return e?n.clientX<a.left-i||n.clientY<o.top&&n.clientX<o.right:n.clientY<a.top-i||n.clientY<o.bottom&&n.clientX<o.left}function ua(n,e,t){var o=F(Nt(t.el,t.options.draggable)),a=so(t.el),i=10;return e?n.clientX>a.right+i||n.clientY>o.bottom&&n.clientX>o.left:n.clientY>a.bottom+i||n.clientX>o.right&&n.clientY>o.top}function fa(n,e,t,o,a,i,r,l){var c=o?n.clientY:n.clientX,s=o?t.height:t.width,f=o?t.top:t.left,d=o?t.bottom:t.right,m=!1;if(!r){if(l&&et<s*a){if(!We&&(je===1?c>f+s*i/2:c<d-s*i/2)&&(We=!0),We)m=!0;else if(je===1?c<f+et:c>d-et)return-je}else if(c>f+s*(1-a)/2&&c<d-s*(1-a)/2)return pa(e)}return m=m||r,m&&(c<f+s*i/2||c>d-s*i/2)?c>f+s/2?1:-1:0}function pa(n){return K(g)<K(n)?1:-1}function ha(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function ga(n){lt.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&lt.push(o)}}function tt(n){return setTimeout(n,0)}function St(n){return clearTimeout(n)}ft&&I(document,"touchmove",function(n){(w.active||$e)&&n.cancelable&&n.preventDefault()});w.utils={on:I,off:S,css:_,find:lo,is:function(e,t){return!!le(e,t,e,!1)},extend:Kn,throttle:co,closest:le,toggleClass:U,clone:fo,index:K,nextTick:tt,cancelNextTick:St,detectDirection:ho,getChild:Ne};w.get=function(n){return n[q]};w.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(w.utils=de(de({},w.utils),o.utils)),Ue.mount(o)})};w.create=function(n,e){return new w(n,e)};w.version=Vn;var M=[],Re,It,Ct=!1,_t,wt,st,Le;function ma(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):this.options.supportPointer?I(document,"pointermove",this._handleFallbackAutoScroll):o.touches?I(document,"touchmove",this._handleFallbackAutoScroll):I(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),Zt(),ot(),Qn()},nulling:function(){st=It=Re=Ct=Le=_t=wt=null,M.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var a=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(i,r);if(st=t,o||this.options.forceAutoScrollFallback||Ge||fe||Xe){yt(t,this.options,l,o);var c=we(l,!0);Ct&&(!Le||i!==_t||r!==wt)&&(Le&&Zt(),Le=setInterval(function(){var s=we(document.elementFromPoint(i,r),!0);s!==c&&(c=s,ot()),yt(t,a.options,s,o)},10),_t=i,wt=r)}else{if(!this.options.bubbleScroll||we(l,!0)===se()){ot();return}yt(t,this.options,we(l,!1),!1)}}},ue(n,{pluginName:"scroll",initializeByDefault:!0})}function ot(){M.forEach(function(n){clearInterval(n.pid)}),M=[]}function Zt(){clearInterval(Le)}var yt=co(function(n,e,t,o){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,c=se(),s=!1,f;It!==t&&(It=t,ot(),Re=e.scroll,f=e.scrollFn,Re===!0&&(Re=we(t,!0)));var d=0,m=Re;do{var h=m,p=F(h),b=p.top,$=p.bottom,A=p.left,T=p.right,N=p.width,L=p.height,ae=void 0,G=void 0,ie=h.scrollWidth,pe=h.scrollHeight,z=_(h),he=h.scrollLeft,ee=h.scrollTop;h===c?(ae=N<ie&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),G=L<pe&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(ae=N<ie&&(z.overflowX==="auto"||z.overflowX==="scroll"),G=L<pe&&(z.overflowY==="auto"||z.overflowY==="scroll"));var ge=ae&&(Math.abs(T-a)<=r&&he+N<ie)-(Math.abs(A-a)<=r&&!!he),Z=G&&(Math.abs($-i)<=r&&ee+L<pe)-(Math.abs(b-i)<=r&&!!ee);if(!M[d])for(var re=0;re<=d;re++)M[re]||(M[re]={});(M[d].vx!=ge||M[d].vy!=Z||M[d].el!==h)&&(M[d].el=h,M[d].vx=ge,M[d].vy=Z,clearInterval(M[d].pid),(ge!=0||Z!=0)&&(s=!0,M[d].pid=setInterval((function(){o&&this.layer===0&&w.active._onTouchMove(st);var me=M[this.layer].vy?M[this.layer].vy*l:0,te=M[this.layer].vx?M[this.layer].vx*l:0;typeof f=="function"&&f.call(w.dragged.parentNode[q],te,me,n,st,M[this.layer].el)!=="continue"||uo(M[this.layer].el,te,me)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&m!==c&&(m=we(m,!1)));Ct=s}},30),bo=function(e){var t=e.originalEvent,o=e.putSortable,a=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var s=o||i;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(f.clientX,f.clientY);c(),s&&!s.el.contains(d)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Mt(){}Mt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Ne(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:bo};ue(Mt,{pluginName:"revertOnSpill"});function Ft(){}Ft.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:bo};ue(Ft,{pluginName:"removeOnSpill"});w.mount(new ma);w.mount(Ft,Mt);function Kt(n,e,t={}){let o;const{document:a=So,...i}=t,r={onUpdate:f=>{va(e,f.oldIndex,f.newIndex)}},l=()=>{const f=typeof n=="string"?a==null?void 0:a.querySelector(n):Eo(n);!f||o!==void 0||(o=new w(f,{...r,...i}))},c=()=>{o==null||o.destroy(),o=void 0},s=(f,d)=>{if(d!==void 0)o==null||o.option(f,d);else return o==null?void 0:o.option(f)};return xo(l),Do(c),{stop:c,start:l,option:s}}function va(n,e,t){const o=Io(n),a=o?[...Rt(n)]:Rt(n);if(t>=0&&t<a.length){const i=a.splice(e,1)[0];nt(()=>{a.splice(t,0,i),o&&(n.value=a)})}}const ba={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},_a={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},wa={class:"flex items-center gap-4"},ya={class:"whitespace-nowrap font-semibold"},xa=u("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Ea={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},Da={class:"flex items-center gap-4"},Sa={class:"whitespace-nowrap font-semibold"},Ia=u("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Ca=Se({__name:"DownloadManagerDownloadSection",setup(n){const e=J(),t=J(),o=J(),a=J(!0),{scheduledDownloadables:i,unscheduledDownloadables:r}=Pe();function l(){var h,p;const d=(h=e.value)==null?void 0:h.children,m=(p=t.value)==null?void 0:p.children;if(!d||!m)return!1;if(d.length!==i.value.length||m.length!==r.value.length)return!0;for(let b=0;b<d.length;b++)if(d[b].getAttribute("dl-id")!==i.value[b].id.toString())return!0;for(let b=0;b<m.length;b++)if(m[b].getAttribute("dl-id")!==r.value[b].id.toString())return!0;return!1}function c(){console.warn("Detected desync, rerendering..."),a.value=!1,nt(()=>a.value=!0)}function s(d,m,h,p){if(p>=0&&p<m.value.length+1){const b=d.value.splice(h,1)[0];b&&m.value.splice(p,0,b)}nt(()=>{l()&&c()})}Kt(e,i,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(d){var m;(m=o.value)==null||m.forEach(h=>h.observeItem()),s(r,i,d.oldIndex,d.newIndex)},onUpdate:function(d){var m;(m=o.value)==null||m.forEach(h=>h.observeItem()),s(i,i,d.oldIndex,d.newIndex)},onChange:function(d){var m;(m=o.value)==null||m.forEach(h=>h.removeObserveItem())},onEnd:function(d){var m;(m=o.value)==null||m.forEach(h=>h.observeItem())},onChoose:function(d){f.value=!0},onUnchoose:function(d){f.value=!1}}),Kt(t,r,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(d){var m;(m=o.value)==null||m.forEach(h=>h.observeItem()),s(i,r,d.oldIndex,d.newIndex)},onUpdate:function(d){var m;(m=o.value)==null||m.forEach(h=>h.observeItem()),s(r,r,d.oldIndex,d.newIndex)},onChange:function(d){var m;(m=o.value)==null||m.forEach(h=>h.removeObserveItem())},onEnd:function(d){var m;(m=o.value)==null||m.forEach(h=>h.observeItem())},onChoose:function(d){f.value=!0},onUnchoose:function(d){f.value=!1}});const f=J(!1);return(d,m)=>(E(),C("section",ba,[u("div",{class:Q(["flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4",{"transform-gpu":!v(f)}])},[u("section",_a,[u("div",wa,[u("h4",ya,x(d.$t("scheduledDownload")),1),xa]),u("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),C(xt,null,Et(v(a)?v(i):[],h=>(E(),Oe(v(Xt),{ref_for:!0,ref_key:"downloadEl",ref:o,key:h.id,dir:"ltr","dl-id":h.id,data:h,class:Q({hidden:h.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),u("section",Ea,[u("div",Da,[u("h4",Sa,x(d.$t("unScheduledDownload")),1),Ia]),u("div",{ref_key:"unscheduledEl",ref:t,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),C(xt,null,Et(v(a)?v(r):[],h=>(E(),Oe(v(Xt),{ref_for:!0,ref_key:"downloadEl",ref:o,key:h.id,class:"download-item",dir:"ltr","dl-id":h.id,data:h},null,8,["dl-id","data"]))),128))],512)])],2)]))}}),Ta={class:"flex w-full items-center gap-2"},$a={class:"flex gap-2"},Oa={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},ka={class:"flex flex-col items-start justify-start gap-1"},Aa={class:"line-clamp-1 break-all text-sm",dir:"ltr"},Pa={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},Na={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},Ma={class:"text-fonts-300 ltr-dir text-xs font-bold"},Fa={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},Ba=Se({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(n){const{showPath:e,openPath:t,completedDownloadables:o}=Pe();function a(i){o&&(o.value=o.value.filter(r=>r.id!==i))}return(i,r)=>{const l=$t,c=ct,s=ut;return E(),C("div",Ta,[u("div",$a,[D(l,{to:`/single/${i.data.postId}`},{default:H(()=>[u("div",Oa,[D(v(to),{src:i.data.image.poster.webp,punch:1,hash:i.data.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":75,"width-size":50},null,8,["src","hash"])])]),_:1},8,["to"]),u("div",ka,[u("h6",Aa,x(i.data.title),1),i.data.season!==void 0&&i.data.episode!==void 0?(E(),C("p",Pa,"S"+x(i.data.season)+"E"+x(i.data.episode),1)):R("",!0),u("p",Na,x(i.data.quality),1),u("p",Ma,x(i.data.size),1)])]),u("ul",Fa,[u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:r[0]||(r[0]=f=>v(t)(i.data.path))},[D(c,{name:"ph:play-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:H(()=>[W(x(i.$t("play")),1)]),_:1})]),u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:r[1]||(r[1]=f=>v(e)(i.data.path))},[D(c,{name:"ph:folder-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:H(()=>[W(x(i.$t("browseLocation")),1)]),_:1})]),u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:r[2]||(r[2]=f=>a(i.data.id))},[D(c,{name:"ph:trash-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:H(()=>[W(x(i.$t("removeFromHistory")),1)]),_:1})])])])}}}),Bt=n=>(Ot("data-v-04065ef9"),n=n(),kt(),n),Ra={"aria-label":"download manager sidebar",class:"flex h-full w-[18rem] flex-col rounded-2xl bg-bg-10 shadow-lg"},La={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},za={class:"w-full font-semibold"},Xa={class:"relative flex items-center justify-center"},Ha={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},Ya={class:"local-numbers text-4xl font-bold"},ja=Bt(()=>u("span",{class:"absolute h-4 w-4 rounded-full bg-bg-1 blur-md"},null,-1)),Wa={class:"flex flex-row items-center gap-1",dir:"ltr"},Ga={key:0},Ua=Bt(()=>u("p",null,"/",-1)),Va={key:1},qa={key:0,class:"absolute flex w-full flex-col items-center justify-center gap-4 text-3xl text-fonts-300"},Za={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},Ka={class:"w-full font-semibold"},Qa={class:"flex w-full flex-1 overflow-y-auto"},Ja={key:0,class:"flex w-full flex-col overflow-y-auto"},ei=Bt(()=>u("span",{class:"line my-2 h-[2px] w-[90%] self-center rounded-full bg-bg-9/30 px-12"},null,-1)),ti={key:1,class:"flex w-full flex-col items-center justify-center gap-4 text-fonts-400"},oi={class:"mb-32 font-bold"},ni=Se({__name:"DownloadManagerSidebar",setup(n){const{bytesToSize:e}=ze.core,{getStorageStats:t,completedDownloadables:o}=Pe(),{downloadPath:a}=Pe(),i=J(),r=J(),l=J(!0),c=Jt(()=>r.value&&i.value?Math.floor(r.value/i.value*100):0);async function s(){if(!t)return;const{freeSpace:d,totalSpace:m}=await t();i.value=m,r.value=m-d}dt(async()=>{await s(),l.value=!1,setInterval(s,1e3*60*5)}),eo(a,()=>{s()});const f=no();return(d,m)=>{var T;const h=ct,p=ut,b=ko,$=Co,A=Ba;return E(),C("section",Ra,[u("header",La,[u("h4",za,x(d.$t("storage"))+":",1),u("div",{class:"absolute top-4 flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100 ltr:right-4 rtl:left-4",onClick:m[0]||(m[0]=N=>v(f).toggleDownloadFolder())},[D(h,{name:"ph:folder-fill"}),D(p,{placement:"top"},{default:H(()=>[W(x(d.$t("storageLocation")),1)]),_:1})]),u("div",Xa,[u("div",{class:Q(["relative flex flex-col items-center justify-center gap-4 transition-opacity",{"pointer-events-none opacity-0":v(l)}])},[D(b,{size:180,"stroke-width":12,linecap:"round",progress:v(c)},null,8,["progress"]),u("span",Ha,[u("h4",Ya,x(v(c))+"%",1),ja]),u("div",Wa,[v(r)?(E(),C("p",Ga,x(v(e)(v(r))),1)):R("",!0),Ua,v(i)?(E(),C("p",Va,x(v(e)(v(i))),1)):R("",!0)])],2),v(l)?(E(),C("div",qa,[D($,{type:"circle"})])):R("",!0)])]),u("section",Za,[u("h4",Ka,x(d.$t("history"))+":",1),u("div",Qa,[(T=v(o))!=null&&T.length?(E(),C("ul",Ja,[(E(!0),C(xt,null,Et(v(o),N=>(E(),C("li",{key:N.id,class:"history-item group flex w-full flex-col"},[D(A,{data:N},null,8,["data"]),ei]))),128))])):(E(),C("div",ti,[D(h,{name:"ph:download-fill",class:"text-4xl"}),u("h5",oi,x(d.$t("downloadHistoryIsEmpty")),1)]))])])])}}});const ai=At(ni,[["__scopeId","data-v-04065ef9"]]),ii={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},ri={class:"flex h-full w-full flex-col gap-8"},ci=Se({__name:"download-manager",setup(n){const{isLoggedIn:e,user:t}=To(),{isElectron:o}=$o();if(!o||!e||!(t!=null&&t.user_allowed_to_download))throw Oo({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return dt(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.add("overflow-hidden-force")}),Qt(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.remove("overflow-hidden-force")}),(a,i)=>{const r=xn,l=Ca,c=ai;return E(),C("div",ii,[u("div",ri,[D(r,{dir:"ltr"}),D(l)]),D(c)])}}});export{ci as default};
