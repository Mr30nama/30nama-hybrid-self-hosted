import{d as $,b as E,r as u,o as S,c as g,ax as j,g as d,h as c,k as r,E as p,j as s,t as v,i as L,I as F,at as N,m as x,F as z,A as M,aR as R,v as T}from"./entry.771bd3e6.js";const U={class:"relative w-[12.5rem]"},q={class:"pointer-events-none -mb-2 transform-gpu whitespace-nowrap px-2 transition-all"},G={class:"line-clamp-1 text-fonts-200"},H={class:"flex h-full w-full flex-col gap-2 overflow-auto px-2","aria-labelledby":"dropdownMenuButton"},J={key:0,class:"mb-2 w-full"},K={key:1},P=["onClick"],X=$({__name:"FormDropdown",props:{multiSelection:{type:Boolean},title:{},style:{},hasDefaultAll:{type:Boolean},selectedOption:{},selectedOptionArray:{},searchable:{type:Boolean},list:{}},emits:["update:modelValue","onChange"],setup(_,{emit:O}){const{t:A}=E(),o=u(!1),y=u(),b=u(null),i=u(""),n=_,h=O,w=[{title:"item1",value:"number 1"},{title:"item2",value:"number 2"}],t=u([]);S(()=>{n.hasDefaultAll?t.value=n.selectedOptionArray?n.selectedOptionArray:n.selectedOption?[n.selectedOption||"ALL"]:["ALL"]:t.value=n.selectedOptionArray?n.selectedOptionArray:n.selectedOption!==void 0?[n.selectedOption]:[]});async function k(){var e;o.value=!0,await R(100),(e=b.value)==null||e.focusOnInput()}function C(){o.value=!1}function f(){const e=t.value.length?t.value:["ALL"];h("update:modelValue",e),h("onChange",e)}function B(){t.value=["ALL"],f(),o.value=!1}function V(e){if(n.multiSelection)return t.value=t.value.filter(l=>l!=="ALL"),t.value.includes(e)?(t.value=t.value.filter(l=>l!==e),t.value.length===0&&(t.value=["ALL"]),f()):(t.value.push(e),f());t.value=[e],f(),o.value=!1}const D=g(()=>(n.list||w).filter(l=>l.title.toLowerCase().includes(i.value.toLowerCase())));j(y,()=>{o.value&&(o.value=!1)});const I=g(()=>{const e=n.list||w;return t.value.map(l=>{var m;return l==="ALL"?A("form.dropdown.default"):((m=e.find(a=>a.value===l))==null?void 0:m.title)||l})});return(e,l)=>{const m=T;return d(),c("div",{ref_key:"dropdown",ref:y,class:"text-sm"},[r("div",U,[r("fieldset",{class:p(["input outline-fonts-[50] relative my-2 flex w-full cursor-pointer flex-row items-center justify-between gap-2 rounded-xl border-2 p-2 px-4 text-fonts-50 outline-offset-2 transition-colors",[{"!border-primary-500":s(o)},e.style.dimmed?"border-fonts-300":"border-fonts-50"]]),"aria-haspopup":"true","aria-expanded":"false",onClick:l[0]||(l[0]=a=>s(o)?C():k())},[r("legend",q,v(e.title),1),r("p",G,v([...s(I)].join(", ")),1),L(m,{name:"ph:caret-down-bold",class:p([{"rotate-180":s(o)},"transition-transform"])},null,8,["class"])],2),r("div",{class:p(["invisible absolute z-20 flex max-h-[15em] w-full -translate-y-2 flex-col gap-1 rounded-xl px-1 py-2 opacity-0 transition-all",[{"!visible !translate-y-0 !opacity-100":s(o)},e.style.foreground]])},[r("ul",H,[e.searchable?(d(),c("li",J,[L(s(N),{ref_key:"searchInputEl",ref:b,modelValue:s(i),"onUpdate:modelValue":l[1]||(l[1]=a=>F(i)?i.value=a:null),name:"dropdown-name-searchbox",label:e.$t("form.dropdown.search"),"label-bg":e.style.foreground,class:"text-xs",icon:"ph:magnifying-glass-fill"},null,8,["modelValue","label","label-bg"])])):x("",!0),!s(i)&&e.hasDefaultAll?(d(),c("li",K,[r("button",{type:"button",class:p([{"bg-primary-500 text-white hover:!bg-primary-500":s(t).includes("ALL")},"10 flex w-full rounded-md px-4 py-2 hover:bg-fonts-50/10"]),onClick:B},v(e.$t("form.dropdown.default")),3)])):x("",!0),(d(!0),c(z,null,M(s(D),a=>(d(),c("li",{key:a.value},[r("button",{type:"button",class:p([{"bg-primary-500 text-white hover:!bg-primary-500":s(t).includes(a.value)},"10 flex w-full rounded-md px-4 py-2 hover:bg-fonts-50/10"]),onClick:Q=>V(a.value)},v(a.title),11,P)]))),128))])],2)])],512)}}});export{X as _};
