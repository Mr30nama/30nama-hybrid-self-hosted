import{d as Se,R as Tt,r as oe,o as dt,f as Jt,g as E,h as I,L as ze,k as u,S as yo,U as Pe,c as eo,V as to,i as D,z,j as v,l as Oe,W as oo,m as R,E as te,N as W,t as x,X as no,Y as xo,P as $t,v as ct,Z as ut,p as Ot,q as kt,s as At,$ as ao,B as nt,a0 as Eo,a1 as Do,a2 as So,a3 as Io,I as Co,a4 as Rt,F as xt,A as Et,a5 as To,a6 as Lt,a7 as $o,a8 as Oo,n as ko,C as Ao,a9 as Po,aa as No}from"./entry.YzqeuuI7.js";import{C as zt,i as Xt}from"./chartjs-plugin-gradient.esm.uINgTqda.js";import{_ as Mo}from"./BaseCircularProgress.vue.ohwe11G7.js";const Fo={class:"relative"},Bo=u("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[u("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[u("canvas",{id:"acquisitions",class:"!w-full"})])],-1),Ro=[Bo],Lo=Se({__name:"DownloadManagerChart",setup(n,{expose:e}){const{disableAnimations:o}=Tt(),t=oe(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const i=f=>{const c=l[f.dataIndex];return`${ze.core.bytesToSize(c)}/s`};dt(()=>{zt.register(Xt);const f={backgroundColor:`rgb(${t.value})`,borderColor:`rgb(${t.value})`,maintainAspectRatio:!1,animation:{duration:o.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:i}}},responsive:!0};a=new zt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${t.value} / 0)`,100:`rgb(${t.value} / 0.3)`}}},pointBackgroundColor:`rgb(${t.value})`,fill:!0,label:"",data:[],tension:.4}]},options:f,plugins:[Xt]})}),Jt(()=>a==null?void 0:a.destroy());const r=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),l=[];function d(){var c;a&&a.data.datasets[0].data.length>=32&&((c=a.data.labels)==null||c.shift(),a.data.datasets[0].data.shift(),a.update()),l.length>=32&&l.shift()}function s(f){d(),a==null||a.data.labels.push(r()),l.push(f);const c=Math.max(...l),m=Math.min(...l);a.data.datasets[0].data.push(Math.floor(ze.core.ILerp(m,c,f,100)));for(let h=0;h<(a==null?void 0:a.data.datasets[0].data.length);h++){const p=Math.floor(ze.core.ILerp(m,c,l[h],100));a.data.datasets[0].data[h]=p}a==null||a.update()}return e({addRecord:s}),(f,c)=>(E(),I("div",Fo,Ro))}}),Me=n=>(Ot("data-v-53b86ea2"),n=n(),kt(),n),zo={"aria-label":"downloader",class:"relative flex items-center gap-8"},Xo={class:"relative h-poster-medium w-poster-medium shrink-0 overflow-hidden rounded-xl bg-bg-10"},Ho={class:"relative flex w-full justify-between"},Yo={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},jo=Me(()=>u("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-10 from-20% to-bg-10/0"},null,-1)),Wo=["src"],Go={class:"relative flex w-full flex-col"},Uo={class:"absolute left-3 top-3 flex flex-col gap-2"},Vo={class:"flex items-center gap-2 text-xl font-bold tracking-wider text-fonts-300"},qo={key:0,class:"line-clamp-1 text-sm font-bold tracking-wider text-fonts-300"},Zo={key:0,class:"font-bold tracking-wider text-fonts-300"},Ko={class:"mb-2 mt-16 h-full w-full"},Qo={class:"mb-1 p-4"},Jo={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/20"},en={key:0,class:"progress-holder absolute h-full w-full bg-bg-1/30"},tn={class:"relative flex flex-col justify-between p-2 transition-opacity"},on={class:"flex flex-row items-center gap-2"},nn={class:"relative flex flex-col items-center"},an={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},rn={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},ln=Me(()=>u("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),sn={class:"flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},dn={class:"flex flex-col items-center"},cn={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},un=Me(()=>u("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),fn={class:"flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},pn={class:"relative flex items-center justify-center"},hn={class:"local-numbers text-6xl font-bold"},gn=Me(()=>u("span",{class:"absolute h-16 w-16 translate-y-2 rounded-full bg-bg-1/20 blur-xl"},null,-1)),mn={class:"flex flex-col items-center"},vn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},bn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},_n=Me(()=>u("svg",{class:"absolute right-[20vw] top-full z-10 w-[3rem] fill-bg-10",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),wn=Me(()=>u("svg",{class:"absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem] fill-bg-10",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),yn={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},xn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},En={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Dn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},Sn=Se({__name:"DownloadManagerDownloader",setup(n){const e=yo(),{bytesToSize:o}=ze.core,{scheduledDownloadables:t,unscheduledDownloadables:a,activeDownloadable:i,changeUpdater:r,downloadAction:l}=Pe(),{downloadSpeedLimit:d}=Tt(),s=eo(()=>e.progress),f=oe();to(s,h=>{var p;(h==null?void 0:h.status)==="active"&&((p=f.value)==null||p.addRecord(h.downloadSpeed))});async function c(){var p;const h=((p=e.progress)==null?void 0:p.status)==="active"?"pause":"unpause";await l(h),h==="pause"?(await r("stop"),s.value.downloadSpeed=0):r("start")}async function m(){await r("stop"),l("remove"),e.progress=void 0,i!=null&&i.value&&(i.value.downloading=!1),e.activeGID=void 0;const h=t.value[0],p=t.value.indexOf(h);t.value.splice(p,1),a.value.unshift(h)}return(h,p)=>{var F,B,K,X,U,Q,H,he,ne,ge,J,le,me,ae,ye,ve;const b=$t,T=Lo,O=ct,$=ut;return E(),I("section",zo,[D(b,{to:`/single/${(F=v(i))==null?void 0:F.postId}`,class:te([{"pointer-events-none opacity-20 grayscale":!v(i)}])},{default:z(()=>{var ie,Ie,Fe;return[u("div",Xo,[(ie=v(i))!=null&&ie.image.poster.webp?(E(),Oe(v(oo),{key:0,src:(Ie=v(i))==null?void 0:Ie.image.poster.webp,punch:1,hash:(Fe=v(i))==null?void 0:Fe.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":258,"width-size":172},null,8,["src","hash"])):R("",!0)])]}),_:1},8,["to","class"]),u("div",Ho,[u("section",{"aria-label":"download info",class:te(["ltr-dir relative flex h-poster-medium w-full justify-between rounded-2xl bg-bg-10 shadow-lg",[{"pointer-events-none opacity-20 grayscale":!v(i)}]])},[u("div",Yo,[jo,(B=v(i))!=null&&B.image.cover?(E(),I("img",{key:0,src:(K=v(i))==null?void 0:K.image.cover,class:"h-full w-full object-cover",alt:""},null,8,Wo)):R("",!0)]),u("div",Go,[u("div",Uo,[u("h5",Vo,[W(x((X=v(i))==null?void 0:X.title)+" ",1),(U=v(i))!=null&&U.episode?(E(),I("p",qo,x(`S${v(i).season}E${v(i).episode}`),1)):R("",!0)]),(Q=v(i))!=null&&Q.size?(E(),I("h5",Zo,x((H=v(i))==null?void 0:H.size),1)):R("",!0)]),u("div",Ko,[D(T,{ref_key:"chart",ref:f,class:"h-full w-full"},null,512)]),u("div",Qo,[u("span",Jo,[D(xo,{name:"fade-preset",mode:"out-in"},{default:z(()=>{var ie,Ie;return[((ie=v(s))==null?void 0:ie.status)==="preparing"?(E(),I("span",en)):(E(),I("span",{key:1,class:"absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500/80",style:no(`transform: scaleX(${(((Ie=v(s))==null?void 0:Ie.percent)||0)/100})`)},null,4))]}),_:1})])])]),u("div",tn,[u("div",{class:te({" opacity-50":((he=v(s))==null?void 0:he.status)==="preparing"})},[u("ul",on,[u("li",nn,[u("span",an,[D(O,{name:"ph:gauge-fill",class:"text-2xl text-fonts-100"}),D($,{placement:"top"},{default:z(()=>[W(x(h.$t("downloadSpeed")),1)]),_:1})]),v(d)?(E(),I("span",rn,[D($,{placement:"top"},{default:z(()=>[W(x(h.$t("speedLimiterIsActive")),1)]),_:1})])):R("",!0),ln,u("p",sn,x(v(o)(((ne=v(s))==null?void 0:ne.downloadSpeed)||0))+"/s ",1)]),u("li",dn,[u("span",cn,[D(O,{name:"ph:download-fill",class:"text-2xl text-fonts-100"}),D($,{placement:"top"},{default:z(()=>[W(x(h.$t("size")),1)]),_:1})]),un,u("p",fn,x(v(o)(((ge=v(s))==null?void 0:ge.completedLength)||0)),1)])])],2),u("div",{class:te(["flex flex-col items-center",{" opacity-50":((J=v(s))==null?void 0:J.status)==="preparing"}])},[u("div",pn,[u("h4",hn,x(((le=v(s))==null?void 0:le.percent)||0)+"%",1),gn])],2),u("div",mn,[u("ul",{class:te(["flex gap-3",[{disabled:!v(i)},{invisible:!v(i)}]])},[u("li",{class:te([{"pointer-events-none":!v(s)||v(s).status==="preparing"},{" opacity-50":((me=v(s))==null?void 0:me.status)==="preparing"}]),onClick:p[0]||(p[0]=ie=>c())},[u("div",vn,[((ae=v(s))==null?void 0:ae.status)==="active"?(E(),Oe(O,{key:0,name:"ph:pause-fill",class:"text-md text-fonts-100"})):((ye=v(s))==null?void 0:ye.status)==="paused"?(E(),Oe(O,{key:1,name:"ph:play-fill",class:"text-md text-fonts-100"})):(E(),Oe(O,{key:2,name:"ph:pause-fill",class:"text-md text-fonts-100"})),D($,{placement:"top"},{default:z(()=>{var ie;return[W(x(((ie=v(s))==null?void 0:ie.status)==="active"?h.$t("pauseDownload"):h.$t("resumeDownload")),1)]}),_:1})])],2),u("li",{onClick:m},[u("div",bn,[D(O,{name:"ph:x-bold",class:"text-md text-fonts-100"}),D($,{placement:"top"},{default:z(()=>[W(x(h.$t("cancel")),1)]),_:1})])])],2)])]),_n,wn],2),v(i)?R("",!0):(E(),I("span",yn,[u("h4",xn,x(h.$t("youHaveNoActiveDownload")),1)])),((ve=v(s))==null?void 0:ve.status)==="preparing"?(E(),I("span",En,[u("h4",Dn,x(h.$t("preparingDownload")),1)])):R("",!0)])])}}}),In=At(Sn,[["__scopeId","data-v-53b86ea2"]]),Pt=n=>(Ot("data-v-5627650f"),n=n(),kt(),n),Cn={key:0,class:"flex items-center gap-8 w-full h-full"},Tn={class:"h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg bg-bg-8"},$n=["src"],On={class:"relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl bg-bg-11"},kn={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},An=Pt(()=>u("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-11 from-20% to-bg-11/0"},null,-1)),Pn=["src"],Nn={class:"drag-target h-full w-full p-4"},Mn={class:"relative flex flex-col"},Fn={key:0,class:"ltr-dir line-clamp-1 text-base font-bold text-fonts-300"},Bn={class:"ltr-dir line-clamp-1 text-left text-base font-bold text-fonts-300"},Rn={class:"ltr-dir text-base font-semibold"},Ln={key:0},zn=Pt(()=>u("span",{class:"text-fonts-300"}," / ",-1)),Xn={class:"text-fonts-300"},Hn=Pt(()=>u("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[u("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),u("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),u("span",{class:"h-1 w-6 rounded-full bg-bg-9"})],-1)),Yn={class:"flex p-4"},jn={class:"absolute bottom-full right-0 flex items-center gap-2"},Wn={class:"local-numbers"},Gn={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/10"},Un={class:"flex items-center gap-2"},Vn=Se({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(n,{expose:e}){const{scheduledDownloadables:o,unscheduledDownloadables:t}=Pe(),{optimizedDownloadlist:a}=Tt(),i=n,r=ao();function l(){o&&(o.value=o.value.filter(p=>p.id!==i.data.id)),t&&(t.value=t.value.filter(p=>p.id!==i.data.id))}async function d(){if(!o||!t)return;const p=t.value.find(T=>T.id===i.data.id),b=o.value.find(T=>T.id===i.data.id);p?(o.value=[p,...o.value],await nt(),t.value=t.value.filter(T=>T.id!==i.data.id),p.id=new Date().getTime()):b&&(o.value=o.value.filter(T=>T.id!==i.data.id),o.value=[b,...o.value],b.id=new Date().getTime())}const s=oe(!1),f=oe();let c;dt(()=>{a.value&&(c=new IntersectionObserver(p=>{const b=p[0];s.value=b.isIntersecting},{threshold:0}),f.value&&c.observe(f.value))});function m(){a.value&&setTimeout(()=>{f.value&&c.observe(f.value)},300)}function h(){a.value&&(f.value&&c.unobserve(f.value),s.value=!0)}return e({observeItem:m,removeObserveItem:h}),(p,b)=>{const T=$t,O=ct,$=ut;return E(),I("section",{ref_key:"downloadItem",ref:f,"aria-label":"download item",class:"flex flex-col w-full items-center gap-8 h-[9rem]"},[!v(a)||v(s)?(E(),I("div",Cn,[D(T,{to:`/single/${p.data.postId}`},{default:z(()=>[u("div",Tn,[p.data.image.poster.webp?(E(),I("img",{key:0,src:p.data.image.poster.webp,class:"h-[8.44rem] w-[5.625rem]",alt:"",loading:"lazy"},null,8,$n)):R("",!0)])]),_:1},8,["to"]),u("div",On,[u("div",kn,[An,p.data.image.cover?(E(),I("img",{key:0,src:p.data.image.cover,class:"h-full w-full object-cover",loading:"lazy",alt:""},null,8,Pn)):R("",!0)]),u("span",Nn,[u("div",Mn,[u("h6",{class:te(["ltr-dir line-clamp-1 break-all",p.data.title.length>25?"text-lg":"text-xl"])},x(p.data.title),3),p.data.season!==void 0&&p.data.episode!==void 0?(E(),I("p",Fn,"S"+x(p.data.season)+"E"+x(p.data.episode),1)):R("",!0),u("p",Bn,x(p.data.quality),1),u("p",Rn,[p.data.progress?(E(),I("span",Ln,[W(x(p.data.progress.downloaded)+" ",1),zn])):R("",!0),u("span",Xn,x(p.data.size),1)])]),Hn]),u("div",Yn,[u("ul",{class:te(["flex items-center gap-2",{"drag-target":!p.data.error}])},[u("li",{class:te(["flex cursor-pointer items-center justify-center rounded-full p-2 transition-all hover:bg-bg-9",{invisible:!p.data.error}]),onClick:b[0]||(b[0]=F=>v(r).toggleMessage(!0,p.data.error,"code"))},[D(O,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),D($,{placement:"top"},{default:z(()=>[W(x(p.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),p.data.progress?(E(),I("li",{key:0,class:"progress relative mx-4 w-48",onClick:b[1]||(b[1]=F=>v(r).toggleMessage(!0))},[u("div",jn,[u("span",Wn,x(p.data.progress.percent)+"%",1)]),u("span",Gn,[u("span",{class:"full absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500",style:no(`transform: scaleX(${p.data.progress.percent/100})`)},null,4)])])):R("",!0)],2),u("ul",Un,[u("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:l},[D(O,{name:"ph:trash-fill",class:"text-xl text-fonts-100"}),D($,{placement:"top"},{default:z(()=>[W(x(p.$t("deleteFromList")),1)]),_:1})]),u("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:d},[D(O,{name:"ph:download-simple-fill",class:"text-xl text-fonts-100"}),D($,{placement:"top"},{default:z(()=>[W(x(p.$t("downloadNow")),1)]),_:1})])])])])])):R("",!0)],512)}}}),Ht=At(Vn,[["__scopeId","data-v-5627650f"]]);/**!
 * Sortable 1.15.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Yt(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),o.push.apply(o,t)}return o}function ce(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(o),!0).forEach(function(t){qn(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Yt(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Qe(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(e){return typeof e}:Qe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(n)}function qn(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function fe(){return fe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n},fe.apply(this,arguments)}function Zn(n,e){if(n==null)return{};var o={},t=Object.keys(n),a,i;for(i=0;i<t.length;i++)a=t[i],!(e.indexOf(a)>=0)&&(o[a]=n[a]);return o}function Kn(n,e){if(n==null)return{};var o=Zn(n,e),t,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)t=i[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var Qn="1.15.1";function ue(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var pe=ue(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ge=ue(/Edge/i),jt=ue(/firefox/i),Xe=ue(/safari/i)&&!ue(/chrome/i)&&!ue(/android/i),io=ue(/iP(ad|od|hone)/i),ro=ue(/chrome/i)&&ue(/android/i),lo={capture:!1,passive:!1};function C(n,e,o){n.addEventListener(e,o,!pe&&lo)}function S(n,e,o){n.removeEventListener(e,o,!pe&&lo)}function at(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Jn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function se(n,e,o,t){if(n){o=o||document;do{if(e!=null&&(e[0]===">"?n.parentNode===o&&at(n,e):at(n,e))||t&&n===o)return n;if(n===o)break}while(n=Jn(n))}return null}var Wt=/\s+/g;function V(n,e,o){if(n&&e)if(n.classList)n.classList[o?"add":"remove"](e);else{var t=(" "+n.className+" ").replace(Wt," ").replace(" "+e+" "," ");n.className=(t+(o?" "+e:"")).replace(Wt," ")}}function _(n,e,o){var t=n&&n.style;if(t){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(o=n.currentStyle),e===void 0?o:o[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=o+(typeof o=="string"?"":"px")}}function Ae(n,e){var o="";if(typeof n=="string")o=n;else do{var t=_(n,"transform");t&&t!=="none"&&(o=t+" "+o)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function so(n,e,o){if(n){var t=n.getElementsByTagName(e),a=0,i=t.length;if(o)for(;a<i;a++)o(t[a],a);return t}return[]}function de(){var n=document.scrollingElement;return n||document.documentElement}function M(n,e,o,t,a){if(!(!n.getBoundingClientRect&&n!==window)){var i,r,l,d,s,f,c;if(n!==window&&n.parentNode&&n!==de()?(i=n.getBoundingClientRect(),r=i.top,l=i.left,d=i.bottom,s=i.right,f=i.height,c=i.width):(r=0,l=0,d=window.innerHeight,s=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||o)&&n!==window&&(a=a||n.parentNode,!pe))do if(a&&a.getBoundingClientRect&&(_(a,"transform")!=="none"||o&&_(a,"position")!=="static")){var m=a.getBoundingClientRect();r-=m.top+parseInt(_(a,"border-top-width")),l-=m.left+parseInt(_(a,"border-left-width")),d=r+i.height,s=l+i.width;break}while(a=a.parentNode);if(t&&n!==window){var h=Ae(a||n),p=h&&h.a,b=h&&h.d;h&&(r/=b,l/=p,c/=p,f/=b,d=r+f,s=l+c)}return{top:r,left:l,bottom:d,right:s,width:c,height:f}}}function co(n){var e=M(n),o=parseInt(_(n,"padding-left")),t=parseInt(_(n,"padding-top")),a=parseInt(_(n,"padding-right")),i=parseInt(_(n,"padding-bottom"));return e.top+=t+parseInt(_(n,"border-top-width")),e.left+=o+parseInt(_(n,"border-left-width")),e.width=n.clientWidth-o-a,e.height=n.clientHeight-t-i,e.bottom=e.top+e.height,e.right=e.left+e.width,e}function Gt(n,e,o){for(var t=we(n,!0),a=M(n)[e];t;){var i=M(t)[o],r=void 0;if(o==="top"||o==="left"?r=a>=i:r=a<=i,!r)return t;if(t===de())break;t=we(t,!1)}return!1}function Ne(n,e,o,t){for(var a=0,i=0,r=n.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==w.ghost&&(t||r[i]!==w.dragged)&&se(r[i],o.draggable,n,!1)){if(a===e)return r[i];a++}i++}return null}function Nt(n,e){for(var o=n.lastElementChild;o&&(o===w.ghost||_(o,"display")==="none"||e&&!at(o,e));)o=o.previousElementSibling;return o||null}function ee(n,e){var o=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==w.clone&&(!e||at(n,e))&&o++;return o}function Ut(n){var e=0,o=0,t=de();if(n)do{var a=Ae(n),i=a.a,r=a.d;e+=n.scrollLeft*i,o+=n.scrollTop*r}while(n!==t&&(n=n.parentNode));return[e,o]}function ea(n,e){for(var o in n)if(n.hasOwnProperty(o)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n[o][t])return Number(o)}return-1}function we(n,e){if(!n||!n.getBoundingClientRect)return de();var o=n,t=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=_(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return de();if(t||e)return o;t=!0}}while(o=o.parentNode);return de()}function ta(n,e){if(n&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function pt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var He;function uo(n,e){return function(){if(!He){var o=arguments,t=this;o.length===1?n.call(t,o[0]):n.apply(t,o),He=setTimeout(function(){He=void 0},e)}}}function oa(){clearTimeout(He),He=void 0}function fo(n,e,o){n.scrollLeft+=e,n.scrollTop+=o}function po(n){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):o?o(n).clone(!0)[0]:n.cloneNode(!0)}var Z="Sortable"+new Date().getTime();function na(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(a){if(!(_(a,"display")==="none"||a===w.ghost)){n.push({target:a,rect:M(a)});var i=ce({},n[n.length-1].rect);if(a.thisAnimationDuration){var r=Ae(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(ea(n,{target:t}),1)},animateAll:function(t){var a=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,r=0;n.forEach(function(l){var d=0,s=l.target,f=s.fromRect,c=M(s),m=s.prevFromRect,h=s.prevToRect,p=l.rect,b=Ae(s,!0);b&&(c.top-=b.f,c.left-=b.e),s.toRect=c,s.thisAnimationDuration&&pt(m,c)&&!pt(f,c)&&(p.top-c.top)/(p.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(d=ia(p,m,h,a.options)),pt(c,f)||(s.prevFromRect=f,s.prevToRect=c,d||(d=a.options.animation),a.animate(s,p,c,d)),d&&(i=!0,r=Math.max(r,d),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},d),s.thisAnimationDuration=d)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},r):typeof t=="function"&&t(),n=[]},animate:function(t,a,i,r){if(r){_(t,"transition",""),_(t,"transform","");var l=Ae(this.el),d=l&&l.a,s=l&&l.d,f=(a.left-i.left)/(d||1),c=(a.top-i.top)/(s||1);t.animatingX=!!f,t.animatingY=!!c,_(t,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=aa(t),_(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),_(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){_(t,"transition",""),_(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},r)}}}}function aa(n){return n.offsetWidth}function ia(n,e,o,t){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*t.animation}var Ce=[],ht={initializeByDefault:!0},Ue={mount:function(e){for(var o in ht)ht.hasOwnProperty(o)&&!(o in e)&&(e[o]=ht[o]);Ce.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ce.push(e)},pluginEvent:function(e,o,t){var a=this;this.eventCanceled=!1,t.cancel=function(){a.eventCanceled=!0};var i=e+"Global";Ce.forEach(function(r){o[r.pluginName]&&(o[r.pluginName][i]&&o[r.pluginName][i](ce({sortable:o},t)),o.options[r.pluginName]&&o[r.pluginName][e]&&o[r.pluginName][e](ce({sortable:o},t)))})},initializePlugins:function(e,o,t,a){Ce.forEach(function(l){var d=l.pluginName;if(!(!e.options[d]&&!l.initializeByDefault)){var s=new l(e,o,e.options);s.sortable=e,s.options=e.options,e[d]=s,fe(t,s.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r<"u"&&(e.options[i]=r)}},getEventProperties:function(e,o){var t={};return Ce.forEach(function(a){typeof a.eventProperties=="function"&&fe(t,a.eventProperties.call(o[a.pluginName],e))}),t},modifyOption:function(e,o,t){var a;return Ce.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[o]=="function"&&(a=i.optionListeners[o].call(e[i.pluginName],t))}),a}};function ra(n){var e=n.sortable,o=n.rootEl,t=n.name,a=n.targetEl,i=n.cloneEl,r=n.toEl,l=n.fromEl,d=n.oldIndex,s=n.newIndex,f=n.oldDraggableIndex,c=n.newDraggableIndex,m=n.originalEvent,h=n.putSortable,p=n.extraEventProperties;if(e=e||o&&o[Z],!!e){var b,T=e.options,O="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!pe&&!Ge?b=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(t,!0,!0)),b.to=r||o,b.from=l||o,b.item=a||o,b.clone=i,b.oldIndex=d,b.newIndex=s,b.oldDraggableIndex=f,b.newDraggableIndex=c,b.originalEvent=m,b.pullMode=h?h.lastPutMode:void 0;var $=ce(ce({},p),Ue.getEventProperties(t,e));for(var F in $)b[F]=$[F];o&&o.dispatchEvent(b),T[O]&&T[O].call(e,b)}}var la=["evt"],G=function(e,o){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=t.evt,i=Kn(t,la);Ue.pluginEvent.bind(w)(e,o,ce({dragEl:g,parentEl:P,ghostEl:y,rootEl:k,nextEl:De,lastDownEl:Je,cloneEl:A,cloneHidden:_e,dragStarted:Be,putSortable:L,activeSortable:w.active,originalEvent:a,oldIndex:ke,oldDraggableIndex:Ye,newIndex:q,newDraggableIndex:be,hideGhostForTarget:vo,unhideGhostForTarget:bo,cloneNowHidden:function(){_e=!0},cloneNowShown:function(){_e=!1},dispatchSortableEvent:function(l){j({sortable:o,name:l,originalEvent:a})}},i))};function j(n){ra(ce({putSortable:L,cloneEl:A,targetEl:g,rootEl:k,oldIndex:ke,oldDraggableIndex:Ye,newIndex:q,newDraggableIndex:be},n))}var g,P,y,k,De,Je,A,_e,ke,q,Ye,be,Ve,L,$e=!1,it=!1,rt=[],xe,re,gt,mt,Vt,qt,Be,Te,je,We=!1,qe=!1,et,Y,vt=[],Dt=!1,lt=[],ft=typeof document<"u",Ze=io,Zt=Ge||pe?"cssFloat":"float",sa=ft&&!ro&&!io&&"draggable"in document.createElement("div"),ho=function(){if(ft){if(pe)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),go=function(e,o){var t=_(e),a=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=Ne(e,0,o),r=Ne(e,1,o),l=i&&_(i),d=r&&_(r),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+M(i).width,f=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+M(r).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return r&&(d.clear==="both"||d.clear===c)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||s>=a&&t[Zt]==="none"||r&&t[Zt]==="none"&&s+f>a)?"vertical":"horizontal"},da=function(e,o,t){var a=t?e.left:e.top,i=t?e.right:e.bottom,r=t?e.width:e.height,l=t?o.left:o.top,d=t?o.right:o.bottom,s=t?o.width:o.height;return a===l||i===d||a+r/2===l+s/2},ca=function(e,o){var t;return rt.some(function(a){var i=a[Z].options.emptyInsertThreshold;if(!(!i||Nt(a))){var r=M(a),l=e>=r.left-i&&e<=r.right+i,d=o>=r.top-i&&o<=r.bottom+i;if(l&&d)return t=a}}),t},mo=function(e){function o(i,r){return function(l,d,s,f){var c=l.options.group.name&&d.options.group.name&&l.options.group.name===d.options.group.name;if(i==null&&(r||c))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return o(i(l,d,s,f),r)(l,d,s,f);var m=(r?l:d).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var t={},a=e.group;(!a||Qe(a)!="object")&&(a={name:a}),t.name=a.name,t.checkPull=o(a.pull,!0),t.checkPut=o(a.put),t.revertClone=a.revertClone,e.group=t},vo=function(){!ho&&y&&_(y,"display","none")},bo=function(){!ho&&y&&_(y,"display","")};ft&&!ro&&document.addEventListener("click",function(n){if(it)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),it=!1,!1},!0);var Ee=function(e){if(g){e=e.touches?e.touches[0]:e;var o=ca(e.clientX,e.clientY);if(o){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[Z]._onDragOver(t)}}},ua=function(e){g&&g.parentNode[Z]._isOutsideThisEl(e.target)};function w(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=fe({},e),n[Z]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return go(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};Ue.initializePlugins(this,n,o);for(var t in o)!(t in e)&&(e[t]=o[t]);mo(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:sa,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?C(n,"pointerdown",this._onTapStart):(C(n,"mousedown",this._onTapStart),C(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(n,"dragover",this),C(n,"dragenter",this)),rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),fe(this,na())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Te=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,g):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,a=this.options,i=a.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,f=a.filter;if(_a(t),!g&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Xe&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=se(d,a.draggable,t,!1),!(d&&d.animated)&&Je!==d)){if(ke=ee(d),Ye=ee(d,a.draggable),typeof f=="function"){if(f.call(this,e,d,this)){j({sortable:o,rootEl:s,name:"filter",targetEl:d,toEl:t,fromEl:t}),G("filter",o,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=se(s,c.trim(),t,!1),c)return j({sortable:o,rootEl:c,name:"filter",targetEl:d,fromEl:t,toEl:t}),G("filter",o,{evt:e}),!0}),f)){i&&e.cancelable&&e.preventDefault();return}a.handle&&!se(s,a.handle,t,!1)||this._prepareDragStart(e,l,d)}}},_prepareDragStart:function(e,o,t){var a=this,i=a.el,r=a.options,l=i.ownerDocument,d;if(t&&!g&&t.parentNode===i){var s=M(t);if(k=i,g=t,P=g.parentNode,De=g.nextSibling,Je=t,Ve=r.group,w.dragged=g,xe={target:g,clientX:(o||e).clientX,clientY:(o||e).clientY},Vt=xe.clientX-s.left,qt=xe.clientY-s.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,g.style["will-change"]="all",d=function(){if(G("delayEnded",a,{evt:e}),w.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!jt&&a.nativeDraggable&&(g.draggable=!0),a._triggerDragStart(e,o),j({sortable:a,name:"choose",originalEvent:e}),V(g,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){so(g,f.trim(),bt)}),C(l,"dragover",Ee),C(l,"mousemove",Ee),C(l,"touchmove",Ee),C(l,"mouseup",a._onDrop),C(l,"touchend",a._onDrop),C(l,"touchcancel",a._onDrop),jt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),G("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ge||pe))){if(w.eventCanceled){this._onDrop();return}C(l,"mouseup",a._disableDelayedDrag),C(l,"touchend",a._disableDelayedDrag),C(l,"touchcancel",a._disableDelayedDrag),C(l,"mousemove",a._delayedDragTouchMoveHandler),C(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&C(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(d,r.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&bt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):o?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(g,"dragend",this),C(k,"dragstart",this._onDragStart));try{document.selection?tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if($e=!1,k&&g){G("dragStarted",this,{evt:o}),this.nativeDraggable&&C(document,"dragover",ua);var t=this.options;!e&&V(g,t.dragClass,!1),V(g,t.ghostClass,!0),w.active=this,e&&this._appendGhost(),j({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(re){this._lastX=re.clientX,this._lastY=re.clientY,vo();for(var e=document.elementFromPoint(re.clientX,re.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(re.clientX,re.clientY),e!==o);)o=e;if(g.parentNode[Z]._isOutsideThisEl(e),o)do{if(o[Z]){var t=void 0;if(t=o[Z]._onDragOver({clientX:re.clientX,clientY:re.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);bo()}},_onTouchMove:function(e){if(xe){var o=this.options,t=o.fallbackTolerance,a=o.fallbackOffset,i=e.touches?e.touches[0]:e,r=y&&Ae(y,!0),l=y&&r&&r.a,d=y&&r&&r.d,s=Ze&&Y&&Ut(Y),f=(i.clientX-xe.clientX+a.x)/(l||1)+(s?s[0]-vt[0]:0)/(l||1),c=(i.clientY-xe.clientY+a.y)/(d||1)+(s?s[1]-vt[1]:0)/(d||1);if(!w.active&&!$e){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(y){r?(r.e+=f-(gt||0),r.f+=c-(mt||0)):r={a:1,b:0,c:0,d:1,e:f,f:c};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");_(y,"webkitTransform",m),_(y,"mozTransform",m),_(y,"msTransform",m),_(y,"transform",m),gt=f,mt=c,re=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:k,o=M(g,!0,Ze,!0,e),t=this.options;if(Ze){for(Y=e;_(Y,"position")==="static"&&_(Y,"transform")==="none"&&Y!==document;)Y=Y.parentNode;Y!==document.body&&Y!==document.documentElement?(Y===document&&(Y=de()),o.top+=Y.scrollTop,o.left+=Y.scrollLeft):Y=de(),vt=Ut(Y)}y=g.cloneNode(!0),V(y,t.ghostClass,!1),V(y,t.fallbackClass,!0),V(y,t.dragClass,!0),_(y,"transition",""),_(y,"transform",""),_(y,"box-sizing","border-box"),_(y,"margin",0),_(y,"top",o.top),_(y,"left",o.left),_(y,"width",o.width),_(y,"height",o.height),_(y,"opacity","0.8"),_(y,"position",Ze?"absolute":"fixed"),_(y,"zIndex","100000"),_(y,"pointerEvents","none"),w.ghost=y,e.appendChild(y),_(y,"transform-origin",Vt/parseInt(y.style.width)*100+"% "+qt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,a=e.dataTransfer,i=t.options;if(G("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}G("setupClone",this),w.eventCanceled||(A=po(g),A.removeAttribute("id"),A.draggable=!1,A.style["will-change"]="",this._hideClone(),V(A,this.options.chosenClass,!1),w.clone=A),t.cloneId=tt(function(){G("clone",t),!w.eventCanceled&&(t.options.removeCloneOnHide||k.insertBefore(A,g),t._hideClone(),j({sortable:t,name:"clone"}))}),!o&&V(g,i.dragClass,!0),o?(it=!0,t._loopId=setInterval(t._emulateDragOver,50)):(S(document,"mouseup",t._onDrop),S(document,"touchend",t._onDrop),S(document,"touchcancel",t._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(t,a,g)),C(document,"drop",t),_(g,"transform","translateZ(0)")),$e=!0,t._dragStartId=tt(t._dragStarted.bind(t,o,e)),C(document,"selectstart",t),Be=!0,Xe&&_(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,t=e.target,a,i,r,l=this.options,d=l.group,s=w.active,f=Ve===d,c=l.sort,m=L||s,h,p=this,b=!1;if(Dt)return;function T(ve,ie){G(ve,p,ce({evt:e,isOwner:f,axis:h?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:c,fromSortable:m,target:t,completed:$,onMove:function(Fe,wo){return Ke(k,o,g,a,Fe,M(Fe),e,wo)},changed:F},ie))}function O(){T("dragOverAnimationCapture"),p.captureAnimationState(),p!==m&&m.captureAnimationState()}function $(ve){return T("dragOverCompleted",{insertion:ve}),ve&&(f?s._hideClone():s._showClone(p),p!==m&&(V(g,L?L.options.ghostClass:s.options.ghostClass,!1),V(g,l.ghostClass,!0)),L!==p&&p!==w.active?L=p:p===w.active&&L&&(L=null),m===p&&(p._ignoreWhileAnimating=t),p.animateAll(function(){T("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(t===g&&!g.animated||t===o&&!t.animated)&&(Te=null),!l.dragoverBubble&&!e.rootEl&&t!==document&&(g.parentNode[Z]._isOutsideThisEl(e.target),!ve&&Ee(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function F(){q=ee(g),be=ee(g,l.draggable),j({sortable:p,name:"change",toEl:o,newIndex:q,newDraggableIndex:be,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=se(t,l.draggable,o,!0),T("dragOver"),w.eventCanceled)return b;if(g.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||p._ignoreWhileAnimating===t)return $(!1);if(it=!1,s&&!l.disabled&&(f?c||(r=P!==k):L===this||(this.lastPutMode=Ve.checkPull(this,s,g,e))&&d.checkPut(this,s,g,e))){if(h=this._getDirection(e,t)==="vertical",a=M(g),T("dragOverValid"),w.eventCanceled)return b;if(r)return P=k,O(),this._hideClone(),T("revert"),w.eventCanceled||(De?k.insertBefore(g,De):k.appendChild(g)),$(!0);var B=Nt(o,l.draggable);if(!B||ga(e,h,this)&&!B.animated){if(B===g)return $(!1);if(B&&o===e.target&&(t=B),t&&(i=M(t)),Ke(k,o,g,a,t,i,e,!!t)!==!1)return O(),B&&B.nextSibling?o.insertBefore(g,B.nextSibling):o.appendChild(g),P=o,F(),$(!0)}else if(B&&ha(e,h,this)){var K=Ne(o,0,l,!0);if(K===g)return $(!1);if(t=K,i=M(t),Ke(k,o,g,a,t,i,e,!1)!==!1)return O(),o.insertBefore(g,K),P=o,F(),$(!0)}else if(t.parentNode===o){i=M(t);var X=0,U,Q=g.parentNode!==o,H=!da(g.animated&&g.toRect||a,t.animated&&t.toRect||i,h),he=h?"top":"left",ne=Gt(t,"top","top")||Gt(g,"top","top"),ge=ne?ne.scrollTop:void 0;Te!==t&&(U=i[he],We=!1,qe=!H&&l.invertSwap||Q),X=ma(e,t,i,h,H?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,qe,Te===t);var J;if(X!==0){var le=ee(g);do le-=X,J=P.children[le];while(J&&(_(J,"display")==="none"||J===y))}if(X===0||J===t)return $(!1);Te=t,je=X;var me=t.nextElementSibling,ae=!1;ae=X===1;var ye=Ke(k,o,g,a,t,i,e,ae);if(ye!==!1)return(ye===1||ye===-1)&&(ae=ye===1),Dt=!0,setTimeout(pa,30),O(),ae&&!me?o.appendChild(g):t.parentNode.insertBefore(g,ae?me:t),ne&&fo(ne,0,ge-ne.scrollTop),P=g.parentNode,U!==void 0&&!qe&&(et=Math.abs(U-M(t)[he])),F(),$(!0)}if(o.contains(g))return $(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Ee),S(document,"mousemove",Ee),S(document,"touchmove",Ee)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;if(q=ee(g),be=ee(g,t.draggable),G("drop",this,{evt:e}),P=g&&g.parentNode,q=ee(g),be=ee(g,t.draggable),w.eventCanceled){this._nulling();return}$e=!1,qe=!1,We=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&_(document.body,"user-select",""),_(g,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(k===P||L&&L.lastPutMode!=="clone")&&A&&A.parentNode&&A.parentNode.removeChild(A),g&&(this.nativeDraggable&&S(g,"dragend",this),bt(g),g.style["will-change"]="",Be&&!$e&&V(g,L?L.options.ghostClass:this.options.ghostClass,!1),V(g,this.options.chosenClass,!1),j({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:e}),k!==P?(q>=0&&(j({rootEl:P,name:"add",toEl:P,fromEl:k,originalEvent:e}),j({sortable:this,name:"remove",toEl:P,originalEvent:e}),j({rootEl:P,name:"sort",toEl:P,fromEl:k,originalEvent:e}),j({sortable:this,name:"sort",toEl:P,originalEvent:e})),L&&L.save()):q!==ke&&q>=0&&(j({sortable:this,name:"update",toEl:P,originalEvent:e}),j({sortable:this,name:"sort",toEl:P,originalEvent:e})),w.active&&((q==null||q===-1)&&(q=ke,be=Ye),j({sortable:this,name:"end",toEl:P,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){G("nulling",this),k=g=P=y=De=A=Je=_e=xe=re=Be=q=be=ke=Ye=Te=je=L=Ve=w.dragged=w.ghost=w.clone=w.active=null,lt.forEach(function(e){e.checked=!0}),lt.length=gt=mt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),fa(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,t=this.el.children,a=0,i=t.length,r=this.options;a<i;a++)o=t[a],se(o,r.draggable,this.el,!1)&&e.push(o.getAttribute(r.dataIdAttr)||ba(o));return e},sort:function(e,o){var t={},a=this.el;this.toArray().forEach(function(i,r){var l=a.children[r];se(l,this.options.draggable,a,!1)&&(t[i]=l)},this),o&&this.captureAnimationState(),e.forEach(function(i){t[i]&&(a.removeChild(t[i]),a.appendChild(t[i]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return se(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(o===void 0)return t[e];var a=Ue.modifyOption(this,e,o);typeof a<"u"?t[e]=a:t[e]=o,e==="group"&&mo(t)},destroy:function(){G("destroy",this);var e=this.el;e[Z]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rt.splice(rt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!_e){if(G("hideClone",this),w.eventCanceled)return;_(A,"display","none"),this.options.removeCloneOnHide&&A.parentNode&&A.parentNode.removeChild(A),_e=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(_e){if(G("showClone",this),w.eventCanceled)return;g.parentNode==k&&!this.options.group.revertClone?k.insertBefore(A,g):De?k.insertBefore(A,De):k.appendChild(A),this.options.group.revertClone&&this.animate(g,A),_(A,"display",""),_e=!1}}};function fa(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ke(n,e,o,t,a,i,r,l){var d,s=n[Z],f=s.options.onMove,c;return window.CustomEvent&&!pe&&!Ge?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=n,d.dragged=o,d.draggedRect=t,d.related=a||e,d.relatedRect=i||M(e),d.willInsertAfter=l,d.originalEvent=r,n.dispatchEvent(d),f&&(c=f.call(s,d,r)),c}function bt(n){n.draggable=!1}function pa(){Dt=!1}function ha(n,e,o){var t=M(Ne(o.el,0,o.options,!0)),a=co(o.el),i=10;return e?n.clientX<a.left-i||n.clientY<t.top&&n.clientX<t.right:n.clientY<a.top-i||n.clientY<t.bottom&&n.clientX<t.left}function ga(n,e,o){var t=M(Nt(o.el,o.options.draggable)),a=co(o.el),i=10;return e?n.clientX>a.right+i||n.clientY>t.bottom&&n.clientX>t.left:n.clientY>a.bottom+i||n.clientX>t.right&&n.clientY>t.top}function ma(n,e,o,t,a,i,r,l){var d=t?n.clientY:n.clientX,s=t?o.height:o.width,f=t?o.top:o.left,c=t?o.bottom:o.right,m=!1;if(!r){if(l&&et<s*a){if(!We&&(je===1?d>f+s*i/2:d<c-s*i/2)&&(We=!0),We)m=!0;else if(je===1?d<f+et:d>c-et)return-je}else if(d>f+s*(1-a)/2&&d<c-s*(1-a)/2)return va(e)}return m=m||r,m&&(d<f+s*i/2||d>c-s*i/2)?d>f+s/2?1:-1:0}function va(n){return ee(g)<ee(n)?1:-1}function ba(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,o=e.length,t=0;o--;)t+=e.charCodeAt(o);return t.toString(36)}function _a(n){lt.length=0;for(var e=n.getElementsByTagName("input"),o=e.length;o--;){var t=e[o];t.checked&&lt.push(t)}}function tt(n){return setTimeout(n,0)}function St(n){return clearTimeout(n)}ft&&C(document,"touchmove",function(n){(w.active||$e)&&n.cancelable&&n.preventDefault()});w.utils={on:C,off:S,css:_,find:so,is:function(e,o){return!!se(e,o,e,!1)},extend:ta,throttle:uo,closest:se,toggleClass:V,clone:po,index:ee,nextTick:tt,cancelNextTick:St,detectDirection:go,getChild:Ne};w.get=function(n){return n[Z]};w.mount=function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(w.utils=ce(ce({},w.utils),t.utils)),Ue.mount(t)})};w.create=function(n,e){return new w(n,e)};w.version=Qn;var N=[],Re,It,Ct=!1,_t,wt,st,Le;function wa(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(o){var t=o.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):t.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var t=o.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),ot(),oa()},nulling:function(){st=It=Re=Ct=Le=_t=wt=null,N.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,t){var a=this,i=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(i,r);if(st=o,t||this.options.forceAutoScrollFallback||Ge||pe||Xe){yt(o,this.options,l,t);var d=we(l,!0);Ct&&(!Le||i!==_t||r!==wt)&&(Le&&Kt(),Le=setInterval(function(){var s=we(document.elementFromPoint(i,r),!0);s!==d&&(d=s,ot()),yt(o,a.options,s,t)},10),_t=i,wt=r)}else{if(!this.options.bubbleScroll||we(l,!0)===de()){ot();return}yt(o,this.options,we(l,!1),!1)}}},fe(n,{pluginName:"scroll",initializeByDefault:!0})}function ot(){N.forEach(function(n){clearInterval(n.pid)}),N=[]}function Kt(){clearInterval(Le)}var yt=uo(function(n,e,o,t){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,d=de(),s=!1,f;It!==o&&(It=o,ot(),Re=e.scroll,f=e.scrollFn,Re===!0&&(Re=we(o,!0)));var c=0,m=Re;do{var h=m,p=M(h),b=p.top,T=p.bottom,O=p.left,$=p.right,F=p.width,B=p.height,K=void 0,X=void 0,U=h.scrollWidth,Q=h.scrollHeight,H=_(h),he=h.scrollLeft,ne=h.scrollTop;h===d?(K=F<U&&(H.overflowX==="auto"||H.overflowX==="scroll"||H.overflowX==="visible"),X=B<Q&&(H.overflowY==="auto"||H.overflowY==="scroll"||H.overflowY==="visible")):(K=F<U&&(H.overflowX==="auto"||H.overflowX==="scroll"),X=B<Q&&(H.overflowY==="auto"||H.overflowY==="scroll"));var ge=K&&(Math.abs($-a)<=r&&he+F<U)-(Math.abs(O-a)<=r&&!!he),J=X&&(Math.abs(T-i)<=r&&ne+B<Q)-(Math.abs(b-i)<=r&&!!ne);if(!N[c])for(var le=0;le<=c;le++)N[le]||(N[le]={});(N[c].vx!=ge||N[c].vy!=J||N[c].el!==h)&&(N[c].el=h,N[c].vx=ge,N[c].vy=J,clearInterval(N[c].pid),(ge!=0||J!=0)&&(s=!0,N[c].pid=setInterval((function(){t&&this.layer===0&&w.active._onTouchMove(st);var me=N[this.layer].vy?N[this.layer].vy*l:0,ae=N[this.layer].vx?N[this.layer].vx*l:0;typeof f=="function"&&f.call(w.dragged.parentNode[Z],ae,me,n,st,N[this.layer].el)!=="continue"||fo(N[this.layer].el,ae,me)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&m!==d&&(m=we(m,!1)));Ct=s}},30),_o=function(e){var o=e.originalEvent,t=e.putSortable,a=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(o){var s=t||i;l();var f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,c=document.elementFromPoint(f.clientX,f.clientY);d(),s&&!s.el.contains(c)&&(r("spill"),this.onSpill({dragEl:a,putSortable:t}))}};function Mt(){}Mt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var a=Ne(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:_o};fe(Mt,{pluginName:"revertOnSpill"});function Ft(){}Ft.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,a=t||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:_o};fe(Ft,{pluginName:"removeOnSpill"});w.mount(new wa);w.mount(Ft,Mt);function Qt(n,e,o={}){let t;const{document:a=Io,...i}=o,r={onUpdate:f=>{ya(e,f.oldIndex,f.newIndex)}},l=()=>{const f=typeof n=="string"?a==null?void 0:a.querySelector(n):Do(n);!f||t!==void 0||(t=new w(f,{...r,...i}))},d=()=>{t==null||t.destroy(),t=void 0},s=(f,c)=>{if(c!==void 0)t==null||t.option(f,c);else return t==null?void 0:t.option(f)};return Eo(l),So(d),{stop:d,start:l,option:s}}function ya(n,e,o){const t=Co(n),a=t?[...Rt(n)]:Rt(n);if(o>=0&&o<a.length){const i=a.splice(e,1)[0];nt(()=>{a.splice(o,0,i),t&&(n.value=a)})}}const xa={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},Ea={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},Da={class:"flex items-center gap-4"},Sa={class:"whitespace-nowrap font-semibold"},Ia=u("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Ca={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},Ta={class:"flex items-center gap-4"},$a={class:"whitespace-nowrap font-semibold"},Oa=u("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),ka=Se({__name:"DownloadManagerDownloadSection",setup(n){const e=oe(),o=oe(),t=oe(),a=oe(!0),{scheduledDownloadables:i,unscheduledDownloadables:r}=Pe();function l(){var h,p;const c=(h=e.value)==null?void 0:h.children,m=(p=o.value)==null?void 0:p.children;if(!c||!m)return!1;if(c.length!==i.value.length||m.length!==r.value.length)return!0;for(let b=0;b<c.length;b++)if(c[b].getAttribute("dl-id")!==i.value[b].id.toString())return!0;for(let b=0;b<m.length;b++)if(m[b].getAttribute("dl-id")!==r.value[b].id.toString())return!0;return!1}function d(){console.warn("Detected desync, rerendering..."),a.value=!1,nt(()=>a.value=!0)}function s(c,m,h,p){if(p>=0&&p<m.value.length+1){const b=c.value.splice(h,1)[0];b&&m.value.splice(p,0,b)}nt(()=>{l()&&d()})}Qt(e,i,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(c){var m;(m=t.value)==null||m.forEach(h=>h.observeItem()),s(r,i,c.oldIndex,c.newIndex)},onUpdate:function(c){var m;(m=t.value)==null||m.forEach(h=>h.observeItem()),s(i,i,c.oldIndex,c.newIndex)},onChange:function(c){var m;(m=t.value)==null||m.forEach(h=>h.removeObserveItem())},onEnd:function(c){var m;(m=t.value)==null||m.forEach(h=>h.observeItem())},onChoose:function(c){f.value=!0},onUnchoose:function(c){f.value=!1}}),Qt(o,r,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(c){var m;(m=t.value)==null||m.forEach(h=>h.observeItem()),s(i,r,c.oldIndex,c.newIndex)},onUpdate:function(c){var m;(m=t.value)==null||m.forEach(h=>h.observeItem()),s(r,r,c.oldIndex,c.newIndex)},onChange:function(c){var m;(m=t.value)==null||m.forEach(h=>h.removeObserveItem())},onEnd:function(c){var m;(m=t.value)==null||m.forEach(h=>h.observeItem())},onChoose:function(c){f.value=!0},onUnchoose:function(c){f.value=!1}});const f=oe(!1);return(c,m)=>(E(),I("section",xa,[u("div",{class:te(["flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4",{"transform-gpu":!v(f)}])},[u("section",Ea,[u("div",Da,[u("h4",Sa,x(c.$t("scheduledDownload")),1),Ia]),u("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),I(xt,null,Et(v(a)?v(i):[],h=>(E(),Oe(v(Ht),{ref_for:!0,ref_key:"downloadEl",ref:t,key:h.id,dir:"ltr","dl-id":h.id,data:h,class:te({hidden:h.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),u("section",Ca,[u("div",Ta,[u("h4",$a,x(c.$t("unScheduledDownload")),1),Oa]),u("div",{ref_key:"unscheduledEl",ref:o,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),I(xt,null,Et(v(a)?v(r):[],h=>(E(),Oe(v(Ht),{ref_for:!0,ref_key:"downloadEl",ref:t,key:h.id,class:"download-item",dir:"ltr","dl-id":h.id,data:h},null,8,["dl-id","data"]))),128))],512)])],2)]))}}),Aa={class:"flex w-full items-center gap-2"},Pa={class:"flex gap-2"},Na={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},Ma={class:"flex flex-col items-start justify-start gap-1"},Fa={class:"line-clamp-1 break-all text-sm",dir:"ltr"},Ba={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},Ra={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},La={class:"text-fonts-300 ltr-dir text-xs font-bold"},za={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},Xa=Se({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(n){const{showPath:e,openPath:o,completedDownloadables:t}=Pe();function a(i){t&&(t.value=t.value.filter(r=>r.id!==i))}return(i,r)=>{const l=$t,d=ct,s=ut;return E(),I("div",Aa,[u("div",Pa,[D(l,{to:`/single/${i.data.postId}`},{default:z(()=>[u("div",Na,[D(v(oo),{src:i.data.image.poster.webp,punch:1,hash:i.data.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":75,"width-size":50},null,8,["src","hash"])])]),_:1},8,["to"]),u("div",Ma,[u("h6",Fa,x(i.data.title),1),i.data.season!==void 0&&i.data.episode!==void 0?(E(),I("p",Ba,"S"+x(i.data.season)+"E"+x(i.data.episode),1)):R("",!0),u("p",Ra,x(i.data.quality),1),u("p",La,x(i.data.size),1)])]),u("ul",za,[u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:r[0]||(r[0]=f=>v(o)(i.data.path))},[D(d,{name:"ph:play-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:z(()=>[W(x(i.$t("play")),1)]),_:1})]),u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:r[1]||(r[1]=f=>v(e)(i.data.path))},[D(d,{name:"ph:folder-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:z(()=>[W(x(i.$t("browseLocation")),1)]),_:1})]),u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:r[2]||(r[2]=f=>a(i.data.id))},[D(d,{name:"ph:trash-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:z(()=>[W(x(i.$t("removeFromHistory")),1)]),_:1})])])])}}}),Bt=n=>(Ot("data-v-688e03f4"),n=n(),kt(),n),Ha={"aria-label":"download manager sidebar",class:"flex h-full w-[18rem] flex-col rounded-2xl bg-bg-10 shadow-lg"},Ya={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},ja={class:"w-full font-semibold"},Wa={class:"relative flex items-center justify-center"},Ga={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},Ua={class:"local-numbers text-4xl font-bold"},Va=Bt(()=>u("span",{class:"absolute h-4 w-4 rounded-full bg-bg-1 blur-md"},null,-1)),qa={class:"flex flex-row items-center gap-1",dir:"ltr"},Za={key:0},Ka=Bt(()=>u("p",null,"/",-1)),Qa={key:1},Ja={key:0,class:"absolute flex w-full flex-col items-center justify-center gap-4 text-3xl text-fonts-300"},ei={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},ti={class:"flex items-center w-full justify-between"},oi={class:"w-full font-semibold"},ni={class:"flex w-full flex-1 overflow-y-auto"},ai={class:"flex w-full flex-col overflow-y-auto"},ii=Bt(()=>u("span",{class:"line my-2 h-[2px] w-[90%] self-center rounded-full bg-bg-9/30 px-12"},null,-1)),ri={key:1,class:"flex w-full flex-col items-center justify-center gap-4 text-fonts-400"},li={class:"mb-32 font-bold"},si=Se({__name:"DownloadManagerSidebar",setup(n){const{bytesToSize:e}=ze.core,{getStorageStats:o,completedDownloadables:t}=Pe(),{downloadPath:a}=Pe(),i=oe(),r=oe(),l=oe(!0),d=eo(()=>r.value&&i.value?Math.floor(r.value/i.value*100):0);async function s(){if(!o)return;const{freeSpace:b,totalSpace:T}=await o();i.value=T,r.value=T-b}dt(async()=>{await s(),l.value=!1,setInterval(s,1e3*60*5)}),to(a,()=>{s()});const f=ao(),{list:c,containerProps:m,wrapperProps:h}=To(t,{itemHeight:106});function p(){t!=null&&t.value.length&&(t.value=[],c.value=[])}return(b,T)=>{var X,U;const O=ct,$=ut,F=Mo,B=ko,K=Xa;return E(),I("section",Ha,[u("header",Ya,[u("h4",ja,x(b.$t("storage"))+":",1),u("div",{class:"absolute top-4 flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100 ltr:right-4 rtl:left-4",onClick:T[0]||(T[0]=Q=>v(f).toggleDownloadFolder())},[D(O,{name:"ph:folder-fill"}),D($,{placement:"top"},{default:z(()=>[W(x(b.$t("storageLocation")),1)]),_:1})]),u("div",Wa,[u("div",{class:te(["relative flex flex-col items-center justify-center gap-4 transition-opacity",{"pointer-events-none opacity-0":v(l)}])},[D(F,{size:180,"stroke-width":12,linecap:"round",progress:v(d)},null,8,["progress"]),u("span",Ga,[u("h4",Ua,x(v(d))+"%",1),Va]),u("div",qa,[v(r)?(E(),I("p",Za,x(v(e)(v(r))),1)):R("",!0),Ka,v(i)?(E(),I("p",Qa,x(v(e)(v(i))),1)):R("",!0)])],2),v(l)?(E(),I("div",Ja,[D(B,{type:"circle"})])):R("",!0)])]),u("section",ei,[u("div",ti,[u("h4",oi,x(b.$t("history"))+":",1),(X=v(t))!=null&&X.length?(E(),I("div",{key:0,class:"flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100",onClick:p},[D(O,{name:"ph:trash-fill"}),D($,{placement:"top"},{default:z(()=>[W(x(b.$t("clearList")),1)]),_:1})])):R("",!0)]),u("div",ni,[(U=v(t))!=null&&U.length?(E(),I("div",Lt($o({key:0},v(m))),[u("div",Lt(Oo(v(h))),[u("ul",ai,[(E(!0),I(xt,null,Et(v(c),Q=>(E(),I("li",{key:Q.data.id,class:"history-item group flex w-full flex-col h-[106px]"},[D(K,{data:Q.data},null,8,["data"]),ii]))),128))])],16)],16)):(E(),I("div",ri,[D(O,{name:"ph:download-fill",class:"text-4xl"}),u("h5",li,x(b.$t("downloadHistoryIsEmpty")),1)]))])])])}}}),di=At(si,[["__scopeId","data-v-688e03f4"]]),ci={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},ui={class:"flex h-full w-full flex-col gap-8"},gi=Se({__name:"download-manager",setup(n){const{isLoggedIn:e,user:o}=Ao(),{isElectron:t}=Po();if(!t||!e||!(o!=null&&o.user_allowed_to_download))throw No({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return dt(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.add("overflow-hidden-force")}),Jt(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.remove("overflow-hidden-force")}),(a,i)=>{const r=In,l=ka,d=di;return E(),I("div",ci,[u("div",ui,[D(r,{dir:"ltr"}),D(l)]),D(d)])}}});export{gi as default};
